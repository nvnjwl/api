SPL.SPlayerEvents=function(e,n,r){function t(){return"undefined"!=typeof controller&&controller.plng}function i(){try{r&&r.webkitExitFullscreen()}catch(e){}document.webkitExitFullscreen&&document.webkitExitFullscreen(),document.exitFullscreen&&document.exitFullscreen(),document.mozFullScreen&&document.mozCancelFullScreen()}var o=this,a=!1;o.playerIndex=0;var l=e.curPlayer,d=e.playerObjConfig.playerVars;retryAfterAd=o.retryAfterAd;var s=!1,c=o.loader;o.OnEvent={init:function(){if(SPL.isAdAllowed&&o.hasAd(0)){var n=e.containerIDClient;SPL.isMobile&&!SPL.CID[n].sameContainer||e.adManagerObj.bootstrap()}},position:function(n){if(isNaN(l.duration)?(c.show(),e.curPlayer.errorScreen&&e.handleErrorObj.showVideo()):preservedS=l.position,a&&t()){var r=o.outer;a=!1,_elsa("videoview","class",""),_elsa(elem,"class","FS O1"),_elsa(r,"style","")}},volume:function(e){},ready:function(){var e=this;"yt"==o.playerName&&c.hide(),o.hasAd(0)?SPL.isMobile:o.playerLoaded||SPL.isMobile?!SPL.isMobile||"yt"!=o.playerName&&"dm"!=o.playerName||(e.load(o.source.url),o.playerLoaded=!0):(e.load(o.source.url),o.playerLoaded=!0)},levelReady:function(){"dm"==o.playerName&&c.hide()},start:function(){o.eventPatch()},state:function(n){"PLAYING"==n&&e.curPlayer.errorScreen&&e.handleErrorObj.showVideo()},fs:function(e){var n=l.getData();void 0!==e&&1==e||"PAUSED"!=n.state||void 0===n.position||(l.seek(n.position),setTimeout(function(){l.pause()},150))},error:function(n,r){(void 0!=n&&null!=n||void 0!=r&&null!=r)&&(SPL.checkIsOnline()?l.isLive()?l.isLive()&&n.type:o.retryAfterError():!e.curPlayer.errorScreen&&o.handleError.handleErrorIfAny(MESSAGE.networkError,!0,!0,function(){o.playerLoaded?l.isLive()?o.playLivePlayer():"dash"==o.playerName||"mp4"==o.playerName?o.reinitConf():e.getActiveElement().play():(l.load(o.source.url),o.playerLoaded=!0)}))},manifest:function(){e.receivedEvents.manifest=!0,o.hidePosterImage();e.playerObjConfig.playerVars.autoStart;o.hasAd(0)||SPL.isMobile?SPL.isMobile:l.play()},complete:function(){e.receivedEvents.complete=!0,void 0!==d.nextVideoUrl&&d.nextVideoUrl,o.hasAd(-1)||l._.dispatch("ended")},flashfailed:function(){o.loadHls(!0)},ended:function(){if(void 0===Player.embedControl||!1===Player.embedControl){o.setPosterImage();var n=e.playerObjConfig.playerVars.nextVideoID;void 0!==n&&""!=n,d.isEndScreenPlugin||e.controlsBaseObj.showEndScreen(o)}var r=d.isFullscreenUI;void 0!=r&&0!=r||i(),(SPL.UA.isMac()||"Safari"==SPL.UA.getBrowser().name||"iOS"==SPL.UA.getOS().name||"Mobile Safari"==SPL.UA.getBrowser().name)&&i()},_adstate:function(n){function r(){s=!0,o.retryAfterAd?o.retryNextUrl():(o.playerLoaded=!0,l.load(o.source.url),setTimeout(function(){l.play()},10))}if("ended"!==n.state||o.playerLoaded){if("ended"===n.state)switch(n.adtype){case"pre":s=!0,o.retryAfterAd?o.retryNextUrl():(o.playerLoaded?SPL.isMobile&&(l.load(o.source.url),o.playerLoaded=!0):(l.load(o.source.url),o.playerLoaded=!0),e.setActiveElement(e.curPlayer),l.play());break;case"mid":s=!0,o.retryAfterAd?o.retryNextUrl():l.play()}}else SPL.checkIsOnline()?r():(e.receivedEvents.manifest,o.handleError.handleErrorIfAny(MESSAGE.networkError,!0,!0,r));"ended"===n.state&&SPL.isMobile&&l.isLive()&&l.seekToLive()}},o.OnEvent.switch=function(e){},o.OnEvent_LIVEMOBILE={init:function(){},position:function(e){}},o.OnEvent_LIVEMOBILE.switch=function(e){},o.OnEvent_VODMOBILE={init:function(){},position:function(e){}},o.OnEvent_VODMOBILE.switch=function(e){},o.OnEvent_LIVEWEB={init:function(){},position:function(e){}},o.OnEvent_LIVEWEB.switch=function(e){},o.OnEvent_VODWEB={init:function(){},position:function(e){}},o.OnEvent_VODWEB.switch=function(e){},o.hasAd=function(e){return SPL.conf.AdIsEnabled&&SPL.isAdAllowed&&o.config.playerVars.isAdAllowed&&json.ads.timecode&&-1!==json.ads.timecode.indexOf(e)&&window.adsPlayed&&-1===window.adsPlayed.indexOf(e)}};