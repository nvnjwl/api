SPL.players.base=function(t,e,i){var s=50;try{void 0!=(s=SPL.localSettings.volume)&&isNaN(s)&&(s=50)}catch(t){s=50}this._={onevt:{},bitrates:[],data:{},player:null,volume:s,V:null,On:{},video:null,url:null,loaded:!1};var a=this;a.isUserTrigger=!0,a.height=_toInt(t.offsetHeight),a.width=_toInt(t.offsetWidth),a.playerName="DEFAULT",a.isAutoplayClicked=!1,a.isUserTriggerPlay=!1,a.isUserTriggerPause=!1,a.isUserTriggerLevel=!1,a.isUserTriggerSeek=!1,a.isUserTriggerBR=!1,a.replayCounter=i.playerObjConfig.playerVars.replayCounter,this.hasNativeControls=!1,this.state="",this.isMute=!1,this.isPaused=!0,this.position=0,this._.json=e,this.isdragProgress=!1,this.isDVR=!1,this.getData=function(){try{a._.data.paused=a.isPaused,a._.data.muted=a.isMute,a._.data.state=a.state,a._.data.position=a.position,a._.data.duration=a.duration,a._.data.buffer=a.buffer,a._.data.volume=a._.volume,a._.data.type=a.type,a._.data.bitrate=a._.bitrates[a._.data.level].br,a._.data.live=!!a.isLive()}catch(t){}return a._.data},this.isLive=function(){return a._.json.isLive},this.paused=function(){return a.isPaused},this.stop=function(){t.src="#"},this.isPaused=function(){return a.isPaused},this.bitrates=function(){if(0===a._.bitrates.length)for(var t=a.getLevels(),e=0;e<t.length;e++)a._.bitrates[e]={br:t[e].bitrate,h:t[e].height,w:t[e].width,i:e};return a._.bitrates},this.onshare=function(){a._.dispatch("share","")},this.ondim=function(t){a._.dispatch("dim",t)},this.onfs=function(t){a._.dispatch("fs",t)},this.onap=function(t){a._.dispatch("ap",t)},this.onAdevent=function(t){if("string"==typeof t)try{t=JSON.parse(t),a._.dispatch("_adstate",t)}catch(t){}else a._.dispatch("_adstate",t)},a.onEnd=function(){a._.dispatch("ended",!0)},this.on=function(t,e){this._.onevt[t]=e},this.off=function(t){delete this._.onevt[t]},this.seekToLive=function(){"iOS"===UA.getOS().name?a.seek(1e3*Date.now()):(a.isLive(),a.seek(_mr(a.duration)-5>_mr(a.position)?_mr(a.duration)-5:_mr(a.position)-5))},this.fschange=function(){_isfs()?a.onfs(!0):a.onfs(!1)},this._.dispatch=function(t,e,s){if("init"==t&&!!window.fsevt.length&&_elemListenersAttach(i.containerIDClient,window.fsevt[4],a.fschange),"position"===t&&a.position>0&&""===a.state&&a._.onStateChange("PLAYING"),null!=i.Player)if(i.Player.isDispatchedAgain(t)){var r="VERBOSE";null!=i&&null!=i.eventManagerObj&&(i.Player.isOneTimeEvent(t)&&i.Player.eventDispatchedList.push(t),"position"==t&&0!=a.isdragProgress||i.eventManagerObj.dispatchEvent(t,r,e,s))}else!function(t,e,a){i.SPlayer.onPlayerEvent(t,a,e,s)}(t,r,e)},this._.onComplete=function(t){a.isLive()||"iOS"==SPL.OSname&&"adManager"==t||(a.pause(),a._.dispatch("complete",!0))},this._.onStateChange=function(e){if(a.state!==e)if(!a.isPaused&&"PAUSED"===e&&a.position<a.duration&&!a.hasNativeControls&&(e="BUFFERING"),("PLAYING"===e||"SEEKED"===e)&&""===a.state&&a.position>.2){a.state=e;t.paused;!a.isLive()&&a._.dispatch("start","true",t.paused),setTimeout(function(){a._.dispatch("state","PLAYING",a.isUserTriggerPlay),a.isUserTriggerPlay=!1,a.isUserTriggerPause=!1},10)}else""===a.state?a._.dispatch("state","LOADING"):(a.state=e,"PAUSED"==e?(a._.dispatch("state",e,a.isUserTriggerPause),a.isUserTriggerPlay=!1,a.isUserTriggerPause=!1):"PLAYING"==e?(a._.dispatch("state",e,a.isUserTriggerPlay),a.isUserTriggerPlay=!1,a.isUserTriggerPause=!1):"SEEKING"==e?a._.dispatch("state",e,a.isUserTriggerSeek):"SEEKED"==e?(a._.dispatch("state",e,a.isUserTriggerSeek),a.isUserTriggerSeek=!1):a._.dispatch("state",e))},this._.getBufferLength=function(t){if(0===t.buffered.length)return 0;for(var e=0;e<t.buffered.length;e++)if(t.buffered.end(e)>t.currentTime)return t.buffered.end(e)-t.currentTime}};