SPL.eventmanager={},SPL.eventmanager.EventManager=function(e){function t(e,t){for(var n=e.length,i=0;i<n;i++){n=e.length;try{e[i].subscriberName===t&&e.splice(i,1)}catch(e){}}}var n=this;n.subscribers=[];var i=0;n.singleEventList=["init","ready","initload","manifest","complete","ended"],n.eventCounter=[0,0,0,0,0,0],n.singleEventPlugin=["controller","adManager","analytics","comscore","GA"],n.name="EventManagerSELF_"+e.currentCounter,this.on=function(e,t,n){this.subscribe(e,t,n)},this.subscribe=function(e,t,i){var a={subscriberName:e,callbackFunction:t,eventType:i};n.subscribers.push(a)},n.unsubscribe=function(e){t(n.subscribers,e)},n.dispatchEvent=function(t,a,r,l){var c=n.subscribers,s=c.length,u=t;eventType=a,eventData=r;var o=n.singleEventList.indexOf(u);-1!=o&&0==n.eventCounter[o]&&n.eventCounter[o]++;for(var v=0;v<s;v++){var E=c[v].subscriberName,d=c[v].eventType,y=c[v].callbackFunction;if(2==n.eventCounter[o]&&-1!=n.singleEventPlugin.indexOf(E))return;setTimeout(function(t,n,i,a,r,l,c){"function"==typeof l&&l.call(e.curPlayer,t,i,n,c)},0,u,eventType,eventData,E,d,y,l)}setTimeout(function(){n.dispatchToGlobalEVM(t,a,r,l)},0,t,a,r,l),"ready"==t&&(SPL.isMobile||n.hideQualityClick()),"ended"==t&&n.RMhideQualityClick(),1==e.needLoader&&"position"==t&&++i>=3&&(e.needLoader=!1,e.loader.hide(),i=0)},n.dispatchToGlobalEVM=function(t,n,i){SPL.global.EventManager.onPlayerEvent(t,n,i,e)},n.events={ready:function(){n.dispatchEvent("ready","VERBOSE")},manifest:function(e,t){n.dispatchEvent("manifest","VERBOSE")}};var a={"Events.MANIFEST_PARSED":{name:"PLAY",type:"VERBOSE",data:"PlayBack 456"}};n.receiveEvent=function(t,n,i,a,r){if("PAUSE"==a)if("adManager"==(l=e.getActiveElement()).pluginName){l.isPlaying();l.pause()}else l.pause();else if("MUTE"==a)(l=e.getActiveElement()).mute();else if("VOLUME"==a)(l=e.getActiveElement()).volume(i);else if("PLAY"==a){SPL.UA.isMac()&&(e.loader.show(),e.needLoader=!0);var l=e.getActiveElement();"DOCUMENT_RESUME"==r&&e.curPlayer.isLive()&&e.curPlayer.seekToLive(),l.play()}},n.eventMapping=function(e,t){SplayerEventName=a[t].name,SplayerEventType=a[t].type,SplayerEventData=a[t].data,n.dispatchEvent(SplayerEventName,SplayerEventType,SplayerEventData)},n.QSclickEvent=function(t){var n=e.controlsBaseObj;if(null!=n&&t.target!=n.settingsMenuOuter&&t.target!=n.qualitySettings&&t.target!=n.settingsIconClick&&null!=n.settingsMenuOuter&&void 0!=n.settingsMenuOuter&&0!=t.clientX&&0!=t.clientY){var i=n.settingsMenuOuter,a=_elr(i).left,r=_elr(i).right,l=_elr(i).top,c=_elr(i).bottom,s=t.clientX,u=t.clientY;!(s>a&&s<r&&u>l&&u<c)&&n.isQualityOpen&&setTimeout(function(){n&&n.hideQualityMenu&&n.hideQualityMenu()},0)}},n.hideQualityClick=function(){document.addEventListener("click",n.QSclickEvent,!0)},n.RMhideQualityClick=function(){document.removeEventListener("click",n.QSclickEvent)},this.destroy=function(e){n.RMhideQualityClick(),e()}};