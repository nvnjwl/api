SPL.SPlayerSettings=function(e,r,t){function a(e){void 0==e&&(e="mp4");var r=!1;switch(e){case"hls":(s.dash>0||s.mp4>0)&&(r=!0);break;case"dash":s.mp4>0&&(r=!0);break;case"mp4":default:r=!1}return r}function n(e){function r(){o.handleError.handleErrorIfAny(MESSAGE.VIDEO_NOT_PLAYING,!0,!1)}if(a(e))if(++playerIndex<o.sourceList.length){var t=o.functionList[playerIndex];o.source=o.sourceList[playerIndex],t()}else r();else r()}var l,i,o=this;retryAfterAd=o.retryAfterAd;var s={hls:1,dash:1,mp4:1};playerIndex=o.playerIndex;var u=2,c=2,v=2;o.reinitConf=function(){if(l=e.Player,(i=e.curPlayer).isLive())o.playLivePlayer();else{var r={preserveAdEvent:!0,preserveVideoEvent:!0,preservePosition:!0,preservePlayer:!0};o.reinit(r)}},o.reinit=function(r){var t=0;r.preservePosition&&(t=i.position),r.preserveVideoEvent,r.preserveAdEvent,(0==t||"dash"==o.playerName||"mp4"==o.playerName||i.isLive())&&r.preservePlayer?o.loadSourceAgain(t):e.getActiveElement().play()},o.loadSourceAgain=function(e){i.destroy(function(){l.reset(),o.reinitPlayer(e)})},o.hibernate=function(){},o.updateRetryCount=function(){function e(e){var r=0;for(prop in e)e.hasOwnProperty(prop)&&r++;return r}var r=e(o.videoDataUpdate.hls);r/=2;var t=e(o.videoDataUpdate.dash);t/=2;var a=e(o.videoDataUpdate.mp4);a/=2,s.hls=r,s.dash=t,s.mp4=a},o.retryAfterError=function(){"adManager"==e.activeElement.name?retryAfterAd=!0:(retryAfterAd=!0,o.hasAd()?retryAfterAd=!0:o.retryNextUrl())},o.retryNextUrl=function(){clearInterval(null);var e=o.playerName;switch(e){case"hls":u<=s[o.playerName]?(retryAfterAd=!1,o.source.url=o.source.urlList[2*u-2],u++,o.loadHls()):n(e);break;case"dash":c<=s[o.playerName]?(retryAfterAd=!1,o.source.url=o.source.urlList[2*c-2],c++,o.loadDash()):n(e);break;case"mp4":v<=s[o.playerName]?(retryAfterAd=!1,o.source.url=o.source.urlList[2*v-2],v++,o.loadMp4()):n(e);break;default:n(e)}},o.playLivePlayer=function(){e.curPlayer.play()};var d=null;o.offlineHandling=function(){null!=d&&(clearTimeout(d),d=null),SPL.checkIsOnline()?(o.handleError.handleErrorIfAny(null,!0,!1),o.reinitConf()):!e.curPlayer.errorScreen&&o.handleError.handleErrorIfAny(MESSAGE.NETWORK_ERROR,!0,!0,o.reinitConf)},o.eventTimeout=null,o.eventInterval=null,o.eventPatch=function(){function r(){0==e.receivedEvents.complete&&t.dispatch("complete",!0),clearInterval(o.eventInterval),clearTimeout(o.eventTimeout)}var t=e.curPlayer;o.eventInterval=setInterval(function(){clearTimeout(o.eventTimeout),void 0!=t&&void 0!=t.videoElem&&t.videoElem.duration==t.videoElem.position?o.eventTimeout=setTimeout(r,500):clearTimeout(o.eventTimeout)},1e3)}};