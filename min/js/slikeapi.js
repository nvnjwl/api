window.JSBASE='http://uat.boxtv.com/interface/spl/integration/';console.log("window.location.href3 :: "+window.location.href);var query=query||{};var S=(function(){var S={};S.playerversion="1.0.0";S.load=function(containerID,playerObjConfig,callback){var defaultSettings={dimIcon:true,isHidePause:false,skipAd:false,section:"",firstTime:true,autoStart:true,playerid:"",playlist:false,playlistUrl:"",pid:"",sg:"",sp:"",pagesection:"",nextVideoCounter:5,nextVideoUrl:"",nextVideoID:"",prevVideoID:"",msid:"",image:"http://media2.intoday.in/indiatoday/images/stories/647_091717105019.jpg",title:"",shareurl:"",isAdAllowed:true,isComScorePlugin:false,isGAPlugin:false,isDVR:false,isEndScreenPlugin:false,isFullscreenUI:false,isWatermark:false,watermarkIcon:"//slike.indiatimes.com/player/img/video_brew_2_74x14.png",watermarkUrl:"",isOverlayAds:false,isReplay:false,offline:{volume:true,mute:false,bitrate:false},settings:{lstype:'',volume:100,mute:false},controls:{type:"custom",dim:true,dimDefault:false,autoplay:true,autoplayDefault:true,nextButton:false,prevButton:false,fullscreen:true,share:false,adplaypause:true,ccenable:false,quality:true,showEndseekbar:false}}
S.playerObjConfig=playerObjConfig;var PV=S.playerObjConfig.playerVars;PV.isAdAllowed=(PV.isAdAllowed!==undefined)?PV.isAdAllowed:defaultSettings.isAdAllowed;PV.isHidePause=(PV.isHidePause!==undefined)?PV.isHidePause:defaultSettings.isHidePause;PV.nextVideoUrl=(PV.nextVideoUrl!==undefined)?PV.nextVideoUrl:defaultSettings.nextVideoUrl;console.log("nexturl",PV.nextVideoUrl);PV.controls.quality=(PV.controls.quality!==undefined)?PV.controls.quality:defaultSettings.controls.quality;S.callback=callback;playerObjConfig.containerID=containerID;var sdkurl=window.JSBASE+"sdk/SPLsdk.js";var baseurl=window.JSBASE+"includes/base.js";var uaurl=window.JSBASE+"includes/uaparser.js";loadJs(baseurl,function(){loadJs(uaurl,function(){loadJs(sdkurl,function(){console.log("load complete");});S.loadCSS();});});}
S.SDKLoadComplete=function(){console.log("S.SDKLoadComplete called");SPL.createPlayer(S.playerObjConfig,function(inst){console.log("SPL Load Player Complete",inst);S.player=inst;S.callback(inst);});};S.log=function(m){window.console&&console.log(arguments);};S.setNextVideo=function(m){console.log("setNextVideo called with :: ",m);var nextVideoID="1xbemyglo";S.player.setNextVideo(nextVideoID);S.player.playerObjConfig.playerVars.controls.autoplayDefault=true;S.player.controlsBaseObj.isAutoPlayNext=true;};S.setNextVideoUrl=function(m){console.log("setNextVideoUrl called with :: ",m);};S.loadNextData=function(url,cb){console.log("typeof in loadNext",typeof cb);};S.setNextItem=function(next){var nextVideoID=next[0].kalturaid;S.player.setNextVideo(nextVideoID);};S.loadNext=function(){};S.loadCSS=function(){var fileref=document.createElement("link");fileref.setAttribute("rel","stylesheet");fileref.setAttribute("type","text/css");var d=new Date();var n=d.getTime();var CSSURL;if(SPL.UA.isMobile()){CSSURL=window.JSBASE+"css/mplayer.css"+"?"+n;fileref.setAttribute("href",CSSURL);}else{CSSURL=window.JSBASE+"css/desktop_player.css"+"?"+n;fileref.setAttribute("href",CSSURL);}document.getElementsByTagName("head")[0].appendChild(fileref);loadFont();function loadFont(){var fileref=document.createElement("link");fileref.setAttribute("rel","stylesheet");fileref.setAttribute("type","text/css");var CSSURL=window.JSBASE+"css/fonts.css";fileref.setAttribute("href",CSSURL);document.getElementsByTagName("head")[0].appendChild(fileref);}}
return S;})();window.S=S;function SDKLoadComplete(){console.log("SDKLoadComplete called");S.SDKLoadComplete();}function _init(){var url=window.JSBASE+"includes/base.js";loadJs(url,function(){console.log("loaded");});var ua=window.JSBASE+"includes/uaparser.js";loadJs(ua,function(){console.log("loaded1");});}function findScript(url){var s=document.getElementsByTagName("script");var i,l=s.length;for(i=0;i<l;i++){if(s[i].src==url)return s[i];}return null;}function loadJs(url,cb,nodeid,sync){var s;s=this.findScript(url);if(s!=null){if(typeof cb==='function')cb();return;}var head=document.getElementsByTagName('head')[0],s=document.createElement('script');s.type='text/javascript';s.src=url;s.async=true;nodeid&&(s.id=nodeid);function ieCallback(el,icb){if(el.readyState==='loaded'||el.readyState==='complete'){icb();}else{setTimeout(function(){ieCallback(el,icb);},20);}}if(typeof cb==='function'){if(typeof s.addEventListener!=='undefined'){s.addEventListener('load',cb,false);s.addEventListener('error',function(){cb('FAILURE');},false);}else{s.onreadystatechange=function(){s.onreadystatechange=null;ieCallback(s,cb);};}}head.appendChild(s);}function filterVal(inp,defVal){if(typeof inp==='undefined')return defVal;if(inp=='')return defVal;return inp;}function filterBoolVal(inp,defVal){if(filterVal(inp,defVal)==defVal)return defVal;return filterVal(inp,defVal)=="true"?true:false;}function getCurTime(){var today=new Date();var h=today.getHours();var m=today.getMinutes();var s=today.getSeconds();var ms=today.getMilliseconds();m=checkTime(m);s=checkTime(s);return h+":"+m+":"+s+":"+ms;function checkTime(i){if(i<10){i="0"+i;}return i;}}