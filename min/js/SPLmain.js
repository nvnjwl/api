SPL.createPlayer=function(playerObjConfig,onLoad,forceAutoStart){var videoid=playerObjConfig.playerVars.id;if(videoid==undefined){console.log("videoid123 = "+videoid);videoid=query.videoid||query.videoID||query.videoId||query.videoiD;playerObjConfig.playerVars.id=videoid;}SPL.playerObjConfig=playerObjConfig;playerObjConfig.playerVars.playerLoadStart=new Date();console.log("playerLoadStart = "+playerObjConfig.playerLoadStart,playerObjConfig);var containerIDClient=playerObjConfig.containerID;var oldInstance=SPL.checkInstance(containerIDClient);if(oldInstance!=null&&oldInstance!=undefined){console.log('oldInstance was not null',oldInstance);SPL.destroy(oldInstance,function(){console.log('destroy callback');if(SPL.checkInstance(containerIDClient)==null){console.log('Destroying working');}else{console.log('******************* [[ Destroying  Not  working ]] ************************');}},containerIDClient);}else{console.log('oldInstance was null or undefined');}if(forceAutoStart==undefined){forceAutoStart=false;}var isAutoStart=playerObjConfig.playerVars.autoStart;console.log("dev03 main isAutoStart = "+isAutoStart);if(isAutoStart==false&&!SPL.isMobile&&forceAutoStart!=true){console.log("in autostart false "+containerIDClient);var playIconStart=UTIL.createOtherNode("i","","spl_Fc spl_ico spl_BP spl_O1",containerIDClient);showPoster();playIconStart.addEventListener("click",getDataStart);}else{getDataStart();}function showPoster(){var conf=playerObjConfig.playerVars;var outer=containerIDClient;console.log('dev24 outer::',outer);if(conf.image){console.log('Poster Image was availaible::'+conf.image+" outer="+outer);document.getElementById(outer).style.backgroundImage="url("+conf.image+")";document.getElementById(outer).style.backgroundSize="contain";document.getElementById(outer).style.backgroundPosition="center";document.getElementById(outer).style.backgroundRepeat="no-repeat";}else{console.log("Poster Image was not availaible");}}function getDataStart(){var _node=_el(containerIDClient);_el(containerIDClient)&&(_el(containerIDClient).innerHTML="");var oldCounter=SPL.counter.old();var YTvideoid=playerObjConfig.playerVars.YTvideoID;if(playerObjConfig.playerVars.playerid==10){videoid="YT"+playerObjConfig.playerVars.id;playerObjConfig.playerVars.id=videoid;}var currentCounter=SPL.counter.get();var containerID="SPLAYER_"+currentCounter;console.log('containerIDClient :: '+containerIDClient);var myPlayer=UTIL.createDiv(containerID,"slikeplayer",containerIDClient);myPlayer.setAttribute("style","z-index: 2;");myPlayer.setAttribute("tabindex",currentCounter);console.log('SUSHI currentCounter===='+currentCounter);curPlayerName="playerObj"+currentCounter;if(SPL.playerObj==null||SPL.playerObj==undefined){console.log('SPL.playerObj null Redefined');SPL.playerObj={};}if(SPL.allPlayerList==null||SPL.allPlayerList==undefined){console.log('SPL.allPlayerList null Redefined');SPL.allPlayerList=[];}var currentPlayerObj=new SPL.controller.base();currentPlayerObj.containerID=containerID;currentPlayerObj.onLoad=onLoad;currentPlayerObj.playerDiv=myPlayer;currentPlayerObj.curPlayerName=curPlayerName;console.log('currentPlayerObj.curPlayerName :: '+currentPlayerObj.curPlayerName);currentPlayerObj.containerIDClient=containerIDClient;currentPlayerObj.containerIDPlayer=containerID;currentPlayerObj.playerObjConfig=playerObjConfig;currentPlayerObj.videoid=playerObjConfig.playerVars.id;currentPlayerObj.currentCounter=currentCounter;currentPlayerObj.controlsBaseObj=new SPL.controls.base(containerIDClient);SPL.containerList[containerIDClient]=currentPlayerObj;currentPlayerObj.controlsBaseObj.createLoader(containerID);currentPlayerObj.handleErrorObj=new SPL.handleError(currentPlayerObj);currentPlayerObj.handleErrorObj.createErrorUI(containerID);if(!SPL.checkIsOnline){currentPlayerObj.handleErrorObj.handleErrorIfAny(MESSAGE.networkError,true,true,currentPlayerObj.initUI(currentPlayerObj));}else{currentPlayerObj.initUI(currentPlayerObj);}currentPlayerObj.feedData="";if(false&&SPL.isMobile&&forceAutoStart!=true){console.log("forceAutoStart :: "+forceAutoStart);var playIconStart=UTIL.createOtherNode("i","","spl_Fc spl_ico spl_BP spl_O1",containerIDClient);playIconStart.setAttribute("style","z-index:4");SPL.showPoster(currentPlayerObj.playerObjConfig,currentPlayerObj.containerIDClient);playIconStart.addEventListener("click",function(){console.log("mobile bpicn");playIconStart.parentNode.removeChild(playIconStart);var videoElem=currentPlayerObj.videoElem;var playPromise=videoElem.play();if(playPromise!==undefined){try{console.log("mobile play started")}catch(error){console.log("mobile play prevented ",error);}}function doPause(videoElem){if(videoElem.paused==true){console.log("Pause Success exit");}else if(videoElem.paused==false){console.log("Pause Fail try again");videoElem.pause();setTimeout(function(){doPause(videoElem);},0);}}console.log("click event mobile ",videoElem)
SPL.getData(videoid,currentPlayerObj,SPL.onReceiveData);SPL.registerFocusEvents();});}else{console.log("forceAutoStart else:: "+forceAutoStart);SPL.getData(videoid,currentPlayerObj,SPL.onReceiveData);SPL.registerFocusEvents();}}function deletePlayIconStart(){console.log("in deletePlayIconStart");if(!playIconStart){return;}console.log("playIconStart",playIconStart)
playIconStart.removeEventListener("click",getDataStart);playIconStart.parentNode.removeChild(playIconStart);}}
SPL.userActionCheck=function(){return true;}
SPL.emptyClientContainer=function(containerIDClient){console.log("empty containerIDClient ",containerIDClient);if(_el(containerIDClient)==null){console.log("empty containerIDClient  1 null");return;}else{console.log("empty containerIDClient  1 not null");}var elem=_el(containerIDClient);_elemAddClass(elem,"spl_H");elem.setAttribute("style","z-index:-1000");elem.setAttribute("style","height:0px");elem.setAttribute("style","opacity:0");setTimeout(function(){deleteSelf(_el(containerIDClient));},5000);function deleteSelf(selfContainer){var _node=_el(containerIDClient);while(_node&&_node.hasChildNodes()){console.log("empty containerIDClient  2");_node.removeChild(_node.firstChild);}_el(containerIDClient).innerHTML="";if(selfContainer==null){return;}}}
SPL.showPoster=function(playerObjConfig,containerIDClient){var conf=playerObjConfig.playerVars;var outer=containerIDClient;console.log('dev24 outer::',outer);if(conf.image){console.log('Poster Image was availaible::'+conf.image+" outer="+outer);document.getElementById(outer).style.backgroundImage="url("+conf.image+")";document.getElementById(outer).style.backgroundSize="contain";document.getElementById(outer).style.backgroundPosition="center";document.getElementById(outer).style.backgroundRepeat="no-repeat";}else{console.log("Poster Image was not availaible");}}
SPL.onReceiveData=function(currentPlayerObj,STATUS,videoData){if(STATUS=="SUCCESS"){var containerIDClient=currentPlayerObj.containerIDClient;var videoid=currentPlayerObj.playerObjConfig.playerVars.id;currentPlayerObj.playerObjConfig.playerVars.replayCounter=0;if(currentPlayerObj.playerObjConfig.playerVars.refVideid==videoid){currentPlayerObj.playerObjConfig.playerVars.replayCounter=1;}console.log("refVideoid 1:: "+currentPlayerObj.playerObjConfig.playerVars.refVideoid);if(videoid.substr(0,2)=="YT"){console.log("Videoid2 :: 1");var newvideoid=videoid.substr(2,videoid.length);console.log("videoid2 :: "+videoid+" "+newvideoid);currentPlayerObj.playerObjConfig.playerVars.id=newvideoid;}else{console.log("Videoid2 :: 2");}console.log("Data Fetch Sucess, send init");setVideoData(currentPlayerObj,videoData);currentPlayerObj.init(videoData);}else{console.log("Data Fetch Failure");}function retrygetData(){console.log("retrygetData now");console.log("video id is :: "+videoid);SPL.getData(videoid,currentPlayerObj,SPL.onReceiveData);}function setVideoData(currentPlayerObj,videoData){console.log("videoData.name = ",videoData.name);currentPlayerObj.playerObjConfig.playerVars.title=videoData.name;}}
SPL.checkInstance=function(containerID){if(SPL.containerList[containerID]){console.log('not nullllll',SPL.containerList[containerID]);return SPL.containerList[containerID];}else{console.log('nullllll'+containerID);return null;}}
SPL.destroy=function(playerObj,callback,containerIDClient){console.log('before',playerObj);if(playerObj.curPlayer!=undefined&&typeof playerObj.curPlayer.destroy=='function'){console.log('playerObj.curPlayer.destroy is function Call it');playerObj.destroy(destroy_controlsCallBack);}else{console.log('playerObj.curPlayer.destroy is not a function');}console.log('playerObj.curPlayerName::'+playerObj.curPlayerName);SPL.containerList[containerIDClient]=null;for(var i=0;i<SPL.allPlayerList.length;i++){if(SPL.allPlayerList[i].containerIDClient==containerIDClient){console.log('splice this ::'+i);SPL.allPlayerList.splice(i,1);}else{console.log('not this splice  :: '+i+SPL.allPlayerList[i].containerIDClient+containerIDClient);}}function destroy_controlsCallBack(){playerObj.controlsBaseObj.destroy(destroyCallBack);}function destroyCallBack(){playerObj.controlsBaseObj=null;SPL.containerList[containerIDClient]=null;console.log("All destroyed");}}
SPL.looseFocus=function(){var isHidePause=SPL.playerObjConfig.playerVars.isHidePause;console.log("isHidePause 1:: "+isHidePause);if(isHidePause==true||isHidePause=="true"){SPL.pauseAllPlayers();}}
SPL.resumeFocus=function(){var isHidePause=SPL.playerObjConfig.playerVars.isHidePause;console.log("isHidePause :: "+isHidePause);if(isHidePause==true||isHidePause=="true"){SPL.global.EventManager.resumeAllPlayers();}}
SPL.visibilityEventReg=false;SPL.registerFocusEvents=function(){if(SPL.visibilityEventReg){return;}var hidden,visibilityChange;if(typeof document.hidden!=="undefined"){hidden="hidden";visibilityChange="visibilitychange";}else if(typeof document.msHidden!=="undefined"){hidden="msHidden";visibilityChange="msvisibilitychange";}else if(typeof document.webkitHidden!=="undefined"){hidden="webkitHidden";visibilityChange="webkitvisibilitychange";}document.addEventListener(visibilityChange,function(){SPL.visibilityEventReg=true;if(document.hidden){console.log("document.hidden :: "+document.hidden+visibilityChange);SPL.looseFocus();}else{SPL.resumeFocus();console.log("document.hidden :: "+document.hidden+visibilityChange);}});}
SPL.pauseAllPlayers=function(){console.log("pauseAllPlayers will call");SPL.global.EventManager.pauseAllPlayers();}
SPL.localSettings={};SPL.getLocalSettings=function(){var defaultSettings={volume:50,bitrate:"360p",mute:false,autoplay:false}
try{var retrievedObject=localStorage.getItem('SPL_Settings');}catch(err){console.log("Error in retrievedObject "+err.message);}if(retrievedObject!=null&&retrievedObject!=undefined){console.log("SPL not Empty Local ");try{SPL.localSettings=JSON.parse(retrievedObject);console.log("SPL.localSettings :: ",SPL.localSettings);}catch(err){SPL.localSettings=defaultSettings;}}else{console.log("SPL  Empty Local ");SPL.localSettings=defaultSettings;}}
SPL.getLocalSettings();SPL.setLocalSettings=function(localData){SPL.getLocalSettings();console.log("localData",localData);var settings=SPL.localSettings;for(var i in localData){console.log("i out::"+i);if(localData.hasOwnProperty(i)){console.log("i in::"+i);settings[i]=localData[i];if(i=='volume'){if(localData[i]>1){settings[i]=_toInt(localData[i]);}else{}}}}console.log("localData settings after :: ",settings);try{localStorage.setItem('SPL_Settings',JSON.stringify(settings));}catch(err){console.log("Error in setItem "+err.message);}SPL.getLocalSettings();}
SPL.handleUCweb=function(){if(SPL.UA.getBrowser().name=="UCBrowser"){SPL.checkForUCNet=true;console.log("SPL.checkForUCNet = "+SPL.checkForUCNet)
SPL.UCInterval=setInterval(function(){SPL.checkForUCNetfn();},3000);}};SPL.checkIsOnline=function(){if(SPL.UA.getBrowser().name=="UCBrowser"){console.log("SPL.checkForUCNet = "+SPL.checkForUCNet);return SPL.checkForUCNet;}else{return window.navigator.onLine;}};SPL.checkForUCNetfn=function(){var isOnlineflag=false;var script=document.createElement("script");script.type="text/javascript";script.src="https://api.ipify.org?format=jsonp&callback=SPL.DisplayIP";document.getElementsByTagName("head")[0].appendChild(script);SPL.UCTimer=setTimeout(function(){console.log("SPL.checkForUCNet set false = "+SPL.checkForUCNet)
SPL.checkForUCNet=false;},3000);};SPL.DisplayIP=function(){clearTimeout(SPL.UCTimer);SPL.checkForUCNet=true;};SPL.handleUCweb();console.log("window.location.href :: "+window.location.href);console.log("window.location.href2 :: "+getScriptFileName());function getScriptFileName(){if(SPL.browserName!="IE"){var script=document.currentScript;var fullUrl=script.src;return fullUrl;}return null;}