(function(SPL){SPL=SPL||{conf:{},controls:{},plugins:{},players:{},allPlayerList:[],playerObj:{},containerList:{},VERSION:"1.0.0"};SPL.LibHLS=function(cb){if(window.Hls){cb.call();}else{console.log('base here1');loadJs(SPL.conf.hlsjs,cb);}};SPL.LibShaka=function(cb){if(window.Hls){cb.call();}else{console.log('base here2');loadJs(SPL.conf.shakajs,cb);}};SPL.ImaLib=function(cb){};SPL.EmbedSwf=function(p,cb){};SPL.getDomain=function(url){if(url){var match=/(?:https?:\/\/)?(?:\w+:\/)?[^:?#\/\s]*?([^.\s]+\.(?:[a-z]{2,}|co\.uk|org\.uk|ac\.uk|org\.au|com\.au))(?:[:?#\/]|$)/gi.exec(url);return match?match[1].split("/")[0]:null;}return null;};SPL.getPageDomain=function(){if(typeof userReferer!='undefined'&&userReferer){return document.referrer;}return location.href;};SPL.conf={analyticsApi:"http://staging.boxtv.com/",streamApi:'http://slike.indiatimes.com/stream?_id=',streamApiFeed:'http://slike.indiatimes.com/feed/stream/',shakajs:"libs/libshaka.js",hlsjs:"libs/libhls.js",dmjs:"//api.dmcdn.net/all.js",swf:'swf/hls.swf',swfobjectjs:"includes/swfobject.js",imaSDKUrl:"//imasdk.googleapis.com/js/sdkloader/ima3.js",AdIsEnabled:true,baseConfigURL:"http://slike.indiatimes.com/feed/playerconfig/beta/r001/",section:"home.bottom",skipAd:"false"};var domain=SPL.getPageDomain();console.log("protocol = "+domain.split("://")[0]);SPL.protocol=domain.split("://")[0];SPL.init=function(){var basic=["data/data.js","sdk/SDKcounter.js","includes/util.js","includes/commondata.js","sdk/SPLerrorHandle.js","data/getData.js","includes/network.js","includes/helper.js","includes/polyfill.js","sdk/SPLapi.js","sdk/SPLerror.js","sdk/SPLglobalevm.js","splayer/controller/baseController.js","splayer/eventmanager/eventmanager.js","splayer/browserConf.js","splayer/controls/controlsbase.js","splayer/playerbase.js","splayer/plugins/analyticsPlugin.js","splayer/plugins/admanagerPlugin.js","splayer/plugins/comscorePlugin.js","splayer/plugins/endscreenPlugin.js","splayer/plugins/gaPlugin.js","splayer/playerSettings.js","splayer/playerEvents.js","splayer/splayer.js","splayer/controls/controlsloader.js","sdk/SPLmain.js","includes/admanager.js"];var customControls=["splayer/controls/controlsevents.js","splayer/controls/controlsweb.js","splayer/controls/controlsembed.js","splayer/controls/controlsnative.js"];var nativeControls=["splayer/controls/controlsnative.js"];var IE=["splayer/players/swfobject.js","splayer/controls/controlsembed.js"];function ieVersion(){var ua=window.navigator.userAgent;if(ua.indexOf("Trident/7.0")>0)return 11;else if(ua.indexOf("Trident/6.0")>0)return 10;else if(ua.indexOf("Trident/5.0")>0)return 9;else
return 0;}var _browser;SPL.browserName=SPL.UA.getBrowser().name;SPL.OSname=SPL.UA.getOS().name;SPL.OSversion=SPL.UA.getOS().version;SPL.isMobile=SPL.UA.isMobile();SPL.isMac=SPL.UA.isMac();SPL.navigator=navigator.userAgent;console.log("SPL.browserName : "+SPL.browserName);console.log("SPL.OSname : "+SPL.OSname);console.log("SPL.OSversion : "+SPL.OSversion);console.log("SPL.isMac : "+SPL.isMac);console.log("SPL.isMobile : "+SPL.isMobile);var controls="custom";console.log("browser_name = "+SPL.browserName);if(SPL.browserName=="Safari"||SPL.OSname=="iOS")_browser="safari";else if(SPL.browserName=='IE'){var ieVersion=ieVersion();_browser="IE"+ieVersion;}else
_browser="nonSafari";var selectedVer=[];switch(_browser){case"safari":selectedVer=selectedVer.concat(nativeControls);break;case"IE8":case"IE9":case"IE10":selectedVer=selectedVer.concat(IE);break;case"IE11":case"nonSafari":if(controls=="custom")selectedVer=selectedVer.concat(customControls);else if(controls=="native")selectedVer=selectedVer.concat(nativeControls);break;default:selectedVer=selectedVer.concat(customControls);}var SCRIPTS=basic.concat(selectedVer);if(window.JSBASE==undefined){window.JSBASE='';console.log("window.JSBASE :: "+window.JSBASE);}else{console.log("window.JSBASE :: "+window.JSBASE);}window._JSCNTR=0;SPL.containerList={};function onJsLoad(){if(++window._JSCNTR>=SCRIPTS.length){SDKLoadComplete();}}function loadConfig(APIKEY){if(APIKEY==undefined){APIKEY="test";}var configUrl=SPL.conf.baseConfigURL+APIKEY+".js";if(APIKEY=="testing"){configUrl="http://uat.boxtv.com/interface/spl/api/testing.js";}if(APIKEY=="testing1"){configUrl="http://uat.boxtv.com/interface/spl/api/testing1.js";}console.log("configUrl :: "+configUrl);loadJs(configUrl,function(data){var SPLconfig=createDeepCopy(window.__SlikePlayerJsonConfig)
SPL.SPLconfig=SPLconfig;SPL[SLIKEAPIKEY]=SPLconfig;getNecessaryScipts();},'',true);}function getNecessaryScipts(){for(var x=0;x<SCRIPTS.length;x++){loadJs(window.JSBASE+SCRIPTS[x],onJsLoad,'js'+x,true);}}function createDeepCopy(objConfig){var newObj=JSON.parse(JSON.stringify(objConfig));console.log("newObj = ",newObj,objConfig);return newObj;}var SLIKEAPIKEY=query.apikey||S.playerObjConfig.playerVars.apikey;var APIKEY=SLIKEAPIKEY;loadConfig(APIKEY);};SPL.init();})(SPL);