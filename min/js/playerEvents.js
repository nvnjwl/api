SPL.SPlayerEvents=function(currentPlayerObj,videoData,videoElem){var t=this;var isOuterBG=false;var playerIndex=0;t.playerIndex=playerIndex;var player=currentPlayerObj.curPlayer;var conf=currentPlayerObj.playerObjConfig.playerVars;retryAfterAd=t.retryAfterAd;var adPlayFinish=false;var Loader=t.loader;t.OnEvent={init:function(){if(SPL.isAdAllowed&&t.hasAd(0)&&!SPL.isMobile){currentPlayerObj.adManagerObj.bootstrap();}},position:function(data){if(!isNaN(player.duration)){preservedS=player.position;}else{console.log("showing loader ",player);Loader.show();if(currentPlayerObj.curPlayer.errorScreen){currentPlayerObj.handleErrorObj.showVideo();}}if(isOuterBG&&isPlaying()){var outer=t.outer;isOuterBG=false;_elsa('videoview','class','');_elsa(elem,'class','FS O1');_elsa(outer,'style','');}else{}},volume:function(data){console.log("volume playerevents = "+data)},ready:function(){var curPlayer=this;if(t.playerName=="yt")Loader.hide();if(!t.hasAd(0)){if(!t.playerLoaded&&!SPL.isMobile){console.log("!playerLoaded");curPlayer.load(t.source.url);t.playerLoaded=true;}else if(SPL.isMobile&&(t.playerName=="yt"||t.playerName=="dm")){curPlayer.load(t.source.url);t.playerLoaded=true;}}else{if(SPL.isMobile){}console.log("AD");}},levelReady:function(){if(t.playerName=="dm"){Loader.hide();}},start:function(){t.eventPatch();},state:function(data){console.log("state here");if(data=="PLAYING"){if(currentPlayerObj.curPlayer.errorScreen){currentPlayerObj.handleErrorObj.showVideo();}}},fs:function(p){var vd=player.getData();if((p===undefined||p!=true)&&vd.state=='PAUSED'&&typeof vd.position!='undefined'){player.seek(vd.position);setTimeout(function(){player.pause();},150);}},error:function(event,data){console.trace("dev11 :: Error here, event :: ",event+" network="+SPL.checkIsOnline());if(event!=undefined&&event!=null||data!=undefined&&data!=null)console.log("dev11 :: Error here, event :: "+event.type+",data :: ",data+" network="+SPL.checkIsOnline());if(!SPL.checkIsOnline()){console.log("!SPL.checkIsOnline() && evt==error");!currentPlayerObj.curPlayer.errorScreen&&t.handleError.handleErrorIfAny(MESSAGE.networkError,true,true,checkLoaded);function checkLoaded(){if(!t.playerLoaded){console.log("!playerLoaded");player.load(t.source.url);t.playerLoaded=true;}else{if(t.playerName=="dash"||t.playerName=="mp4"||player.isLive()){t.reinitConf();}else
currentPlayerObj.getActiveElement().play();console.log("playerLoaded");}}}else if(!player.isLive()){t.retryAfterError();}else if(player.isLive()&&event.type=="networkError"){console.log("HLS networkError");}},manifest:function(){currentPlayerObj.receivedEvents.manifest=true;t.hidePosterImage();console.log('dev17 event manifest paused :: '+player.isPaused);if(playerIndex&&adPlayFinish){console.log('dev17p 1 playerIndex :: '+playerIndex);}else{console.log('dev17p 1 playerIndex :: '+playerIndex);var isAutoStart=currentPlayerObj.playerObjConfig.playerVars.autoStart;console.log("dev03 isAutoStart = "+isAutoStart);if(!t.hasAd(0)&&!SPL.isMobile){player.play();}else if(SPL.isMobile){}else{console.log("List EVENTS else 3");}}console.log('dev17 event manifest paused :: '+player.isPaused);},complete:function(){currentPlayerObj.receivedEvents.complete=true;console.log("complete Player.embedControl = "+Player.embedControl);if(typeof conf.nextVideoUrl!='undefined'&&conf.nextVideoUrl!=''){console.log('player Complete occur');}if(!t.hasAd(-1)){console.log("ADM No postRol");player._.dispatch('ended');}else{console.log("ADM Do nothing Ad will try to play");}},flashfailed:function(){console.log("flash Failed so do loadHLS");t.loadHls(true);},ended:function(){console.log("Player.embedControl = "+Player.embedControl);if(Player.embedControl===undefined||Player.embedControl===false){console.log("dev01 replay end2");t.setPosterImage();var isNextVideo;var nextVideoId=currentPlayerObj.playerObjConfig.playerVars.nextVideoID;if(typeof nextVideoId!='undefined'&&nextVideoId!=''){console.log('if nextVideoUrl ::'+nextVideoId);isNextVideo=true;}else{console.log('else nextVideoUrl ::'+nextVideoId);isNextVideo=false;}try{}catch(err){console.log("Error in Hide :: "+err.message);}var isEndScreenPlugin=conf.isEndScreenPlugin;if(isEndScreenPlugin){console.log("isEndScreenPlugin if:: "+isEndScreenPlugin);}else{console.log("isEndScreenPlugin else:: "+isEndScreenPlugin);currentPlayerObj.controlsBaseObj.showEndScreen(t);}console.log("dev04 replay end3");}else{console.log("Player.embedControl was :: "+Player.embedControl);}var isFullscreenUI=conf.isFullscreenUI;if(isFullscreenUI==undefined||isFullscreenUI==false){console.log("Exit FS isFullscreenUI  :: "+isFullscreenUI);exitFS();}else if(isFullscreenUI==true){console.log("Do not Exit FullScreen , isFullscreenUI  else :: "+isFullscreenUI);}if(SPL.UA.isMac()||SPL.UA.getBrowser().name=='Safari'||SPL.UA.getOS().name=='iOS'||SPL.UA.getBrowser().name=='Mobile Safari'){exitFS();}},_adstate:function(e){console.log('AdState :: '+e.state);if(e.state==='ended'&&!t.playerLoaded){if(!SPL.checkIsOnline()){if(!currentPlayerObj.receivedEvents.manifest){console.log("manifest not received");}else{console.log("manifest received");}t.handleError.handleErrorIfAny(MESSAGE.networkError,true,true,loadAfterAd);}else{loadAfterAd();}function loadAfterAd(){adPlayFinish=true;console.log('dev11 ad 2');if(t.retryAfterAd){t.retryNextUrl();}else{console.log('dev11 ad 3 '+t.source.url,player);t.playerLoaded=true;player.load(t.source.url);setTimeout(function(){player.play();},10);}}}else if(e.state==='ended'){console.log("e.adtype :: "+e.adtype);switch(e.adtype){case"pre":adPlayFinish=true;if(t.retryAfterAd){t.retryNextUrl();}else{console.log("playerLoaded = "+playerLoaded);if(!t.playerLoaded){player.load(t.source.url);t.playerLoaded=true;}else if(SPL.isMobile){console.log("player loading after ad");player.load(t.source.url);t.playerLoaded=true;}console.log("ADM e.adtype"+e.adtype);console.log('dev01 ended ad e.state:'+e.state+" e.adtype:"+e.adtype+" retryAfterAd:"+retryAfterAd);console.log('list events play now');currentPlayerObj.setActiveElement(currentPlayerObj.curPlayer);player.play();}break;case"mid":adPlayFinish=true;if(t.retryAfterAd){t.retryNextUrl();}else{console.log("ADM e.adtype"+e.adtype);console.log('dev01 ended ad e.state:'+e.state+" e.adtype:"+e.adtype+" retryAfterAd:"+retryAfterAd);console.log('list events play now');player.play();}break;case"post":console.log("ADM e.adtype"+e.adtype);break;}}if(e.state==='ended'&&SPL.isMobile){console.log('dev11 ad 4');player.isLive()&&player.seekToLive();}}};t.OnEvent['switch']=function(l){console.log("t.OnEvent['switch']");};t.OnEvent_LIVEMOBILE={init:function(){},position:function(data){}}
t.OnEvent_LIVEMOBILE['switch']=function(l){console.log("t.OnEvent_LIVEMOBILE['switch']");};t.OnEvent_VODMOBILE={init:function(){},position:function(data){}}
t.OnEvent_VODMOBILE['switch']=function(l){console.log("t.OnEvent_VODMOBILE['switch']");};t.OnEvent_LIVEWEB={init:function(){},position:function(data){}}
t.OnEvent_LIVEWEB['switch']=function(l){console.log("t.OnEvent_LIVEWEB['switch']");};t.OnEvent_VODWEB={init:function(){},position:function(data){}}
t.OnEvent_VODWEB['switch']=function(l){console.log("t.OnEvent_LIVEMOBILE['switch']");};function destroyBeforePlayNext(){if(SPL.destroy&&typeof SPL.destroy==='function'){var oldInstance=SPL.checkInstance(currentPlayerObj.containerIDClient);if(oldInstance!=null&&oldInstance!=undefined){console.log('oldInstance was not null',oldInstance);SPL.destroy(oldInstance,function(){console.log('destroy callback destroyBeforePlayNext');if(SPL.checkInstance(containerIDClient)==null){console.log('Destroying working destroyBeforePlayNext');}else{console.log('******************* [[ Destroying  Not  working ]] ************************');}},currentPlayerObj.containerIDClient);}else{console.log('oldInstance was null or undefined');}}}function isPlaying(){return(typeof controller!=='undefined')&&controller.plng;}function canAutoPlay(){return!SPL.isMobile;}function preloadStream(){return(t.hasAd(0)&&!player.isLive())||!t.hasAd(0);}function playWhenReady(){return canAutoPlay()&&!t.hasAd(0);}t.hasAd=function(tc){console.log("dev06 playerVars.isAdAllowed ::"+t.config.playerVars.isAdAllowed);return SPL.conf.AdIsEnabled&&SPL.isAdAllowed&&t.config.playerVars.isAdAllowed&&json.ads.timecode&&json.ads.timecode.indexOf(tc)!==-1&&window.adsPlayed&&window.adsPlayed.indexOf(tc)===-1;}
function exitFS(){try{videoElem&&videoElem.webkitExitFullscreen();}catch(e){console.log('exitFS error');}if(document.webkitExitFullscreen)document.webkitExitFullscreen();if(document.exitFullscreen)document.exitFullscreen();if(document.mozFullScreen)document.mozCancelFullScreen();}}