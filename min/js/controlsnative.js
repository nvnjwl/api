SPL.controls.Native=function(view,config,json,player){var UA=SPL.UA;var S=SPL.conf;var t=this;var lstate=null;t.id='playerController';t.started=false;config.settings=config.settings||{};config.controls=config.controls||{};var toLive=false;this.createLoaderObj();var Loader=player.loader;console.log("native 4");this.createAllControls=function(containerID,cc,videoElem){this.createHtml(containerID,cc);};this.createHtml=function(containerID,cc){var actiondiv=this.createAction(containerID,cc);this.createTop(actiondiv,cc);};this.createAction=function(containerID,cc){console.log('createTop containerID is '+containerID);var a1=UTIL.createDiv("action"+cc,"",containerID);this.actiondiv=a1;return a1;};this.createTop=function(action,cc){var CenterPlay=UTIL.createOtherNode("i","","spl_H spl_Fc spl_ico spl_BP spl_O1",action,"b");CenterPlay.setAttribute("onclick","event.stopPropagation()");this.playIcon=CenterPlay;};this.onPlayerEvent=function(evt,data){data=data||'';if(!t.started){return;}switch(evt){case'init':break;case'playing':console.log("playing native");case'start':_elemAddClass(view,'O1');player.isLive()&&player.seek(player.duration-2);break;case'state':this.isPaused=data&&data.indexOf('PAUSE')===0?true:(data.indexOf('PLAY')===0||data.indexOf('SEEKED')===0?false:this.isPaused);if(this.isLive()){data.indexOf('BUFFERING')!==-1&&data!=='SEEKED'&&data!=='PAUSED'&&!player.embedControl?Loader.show():Loader.hide();}else{data.indexOf('PLAYING')===-1&&data!=='SEEKED'&&data!=='PAUSED'&&!player.embedControl?Loader.show():Loader.hide();}lstate=data;break;}};this.init=function(m,ap){Loader.hide();};function initPlayer(isEmbed){Loader.show();if(isEmbed){_elemAddClass('controls','H');if(SPL.isMobile&&!player.embedControl){player.play();}}else{player.play();if(S.AdIsEnabled&&json.ads.timecode.indexOf(0)!==-1&&window.adsManager){player.pause();adsManager.onUserAction();}else{player.seekToLive();}_elemRemoveClass(view,'O0');_elemAddClass(view,'O1');_elemAddClass('bpicn','H');}t.started=true;_elemRemoveClass('videoview','O0');_elemRemoveClass(view,'O0');_elemAddClass('controls','H');}if(player.hasNativeControls){initPlayer(true);}else{_elemAddClass(view,'O1');_elemAddClass('bpicn','H');_elemListenersAttach('controls','click',initPlayer);player.showNativeControls();}t.showEndScreen=function(isNextVideo,sPlayer){var bpicn=t.playIcon;console.log("t:: is ::",t);if(false&&isNextVideo){_elsa(outer,'style','');_elsa(bpicn,'class','spl_Fc spl_O1 spl_H');}else{_eleminnerHTML(bpicn,'r');_elemRemoveClass(bpicn,'spl_H');_elemAttachListener(bpicn,'click',t.onReplayClick);}};t.onReplayClick=function(prev){var bpicn=t.playIcon;bpicn.removeEventListener(bpicn,'click',t.onReplayClick);_elemAddClass(t.playIcon,'spl_O1');_elsa(t.videoview,'class','spl_O1')
t.sPlayer.prepare();}}