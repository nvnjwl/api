if(!Object.getPrototypeOf){Object.getPrototypeOf=function(o){if(o!==Object(o)){throw TypeError("Object.getPrototypeOf called on non-object");}return o.__proto__||o.constructor.prototype||Object.prototype;};}if(typeof Object.getOwnPropertyNames!=="function"){Object.getOwnPropertyNames=function(o){if(o!==Object(o)){throw TypeError("Object.getOwnPropertyNames called on non-object");}var props=[],p;for(p in o){if(Object.prototype.hasOwnProperty.call(o,p)){props.push(p);}}return props;};}if(typeof Object.create!=="function"){Object.create=function(prototype,properties){if(typeof prototype!=="object"){throw TypeError();}function Ctor(){}Ctor.prototype=prototype;var o=new Ctor();if(prototype){o.constructor=Ctor;}if(properties!==undefined){if(properties!==Object(properties)){throw TypeError();}Object.defineProperties(o,properties);}return o;};}(function(){if(!Object.defineProperty||!(function(){try{Object.defineProperty({},'x',{});return true;}catch(e){return false;}}())){var orig=Object.defineProperty;Object.defineProperty=function(o,prop,desc){if(orig){try{return orig(o,prop,desc);}catch(e){}}if(o!==Object(o)){throw TypeError("Object.defineProperty called on non-object");}if(Object.prototype.__defineGetter__&&('get'in desc)){Object.prototype.__defineGetter__.call(o,prop,desc.get);}if(Object.prototype.__defineSetter__&&('set'in desc)){Object.prototype.__defineSetter__.call(o,prop,desc.set);}if('value'in desc){o[prop]=desc.value;}return o;};}}());if(typeof Object.defineProperties!=="function"){Object.defineProperties=function(o,properties){if(o!==Object(o)){throw TypeError("Object.defineProperties called on non-object");}var name;for(name in properties){if(Object.prototype.hasOwnProperty.call(properties,name)){Object.defineProperty(o,name,properties[name]);}}return o;};}if(!Object.keys){Object.keys=function(o){if(o!==Object(o)){throw TypeError('Object.keys called on non-object');}var ret=[],p;for(p in o){if(Object.prototype.hasOwnProperty.call(o,p)){ret.push(p);}}return ret;};}if(!Function.prototype.bind){Function.prototype.bind=function(o){if(typeof this!=='function'){throw TypeError("Bind must be called on a function");}var args=Array.prototype.slice.call(arguments,1),self=this,nop=function(){},bound=function(){return self.apply(this instanceof nop?this:o,args.concat(Array.prototype.slice.call(arguments)));};if(this.prototype)nop.prototype=this.prototype;bound.prototype=new nop();return bound;};}Array.isArray=Array.isArray||function(o){return Boolean(o&&Object.prototype.toString.call(Object(o))==='[object Array]');};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement){if(this===void 0||this===null){throw TypeError();}var t=Object(this);var len=t.length>>>0;if(len===0){return-1;}var n=0;if(arguments.length>0){n=Number(arguments[1]);if(isNaN(n)){n=0;}else if(n!==0&&n!==(1/0)&&n!==-(1/0)){n=(n>0||-1)*Math.floor(Math.abs(n));}}if(n>=len){return-1;}var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k;}}return-1;};}if(!Array.prototype.forEach){Array.prototype.forEach=function(fun){if(this===void 0||this===null){throw TypeError();}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw TypeError();}var thisp=arguments[1],i;for(i=0;i<len;i++){if(i in t){fun.call(thisp,t[i],i,t);}}};}if(!String.prototype.trim){String.prototype.trim=function(){return String(this).replace(/^\s+/,'').replace(/\s+$/,'');};}if(!Date.now){Date.now=function now(){return Number(new Date());};}