SPL.SPlayer=function(e,o,n){function l(){console.log("inside initEmbedPlayer"),m.playerName="flash",e.flashDiv=UTIL.createDiv("","",e.playerDiv),e.curPlayer=new SPL.players.embedPlayer(e.containerID,e.playerObjConfig,e)}function a(){e.curPlayer=new SPL.players.dash(n,o,e),p("dash")}function r(){e.curPlayer=new SPL.players.DM(n,o,e),p("dm")}function t(){e.curPlayer=new SPL.players.YT(n,o,e),p("yt")}function s(){function e(){if(!SPL.playerFlash||!SPL.swfobject)return!1;i()}SPL.swfobject?e():loadJs(SPL.conf.swfobjectjs,e),SPL.playerFlash?e():loadJs(window.JSBASE+"splayer/players/playerflash.js",e)}function i(){console.log("initHlsFlash"),e.curPlayer=new SPL.players.flash(n,o,e),p("flash")}function c(){e.curPlayer=new SPL.players.hls(n,o,e),1==o.audioOnly||"1"==o.audioOnly||1==o.audioOnly||"true"==o.audioOnly?(m.audioOnly=!0,console.log("t.audioOnly :: "+m.audioOnly)):console.log("t.audioOnly :: "+m.audioOnly),p("hls")}function d(){console.log("poster dev12 ..initMp4 "),void 0!=e.curPlayer?(console.log("dev16 old Instance already"),e.curPlayer=null,e.curPlayer=new SPL.players.Native(n,o,e)):e.curPlayer=new SPL.players.Native(n,o,e);console.log("poster dev16 call onPlayerLoad now with mp4"),p("mp4")}function y(){console.log("poster dev12 ..initMp3 playerName"+l),void 0!=e.curPlayer?(console.log("dev16 old Instance already"),e.curPlayer=null,e.curPlayer=new SPL.players.Native(n,o,e)):e.curPlayer=new SPL.players.Native(n,o,e);var l="mp3";console.log("poster dev16 call onPlayerLoad now with "+l),p(l)}function u(){var e=window.MediaSource,o=window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n="IE"!==SPL.UA.getBrowser().name||11==function(){var e=window.navigator.userAgent;return e.indexOf("Trident/7.0")>0?11:e.indexOf("Trident/6.0")>0?10:e.indexOf("Trident/5.0")>0?9:0}();console.log("a "+e),console.log("b "+o),console.log("c "+n);var l="IE"!=SPL.browserName||"IE"==SPL.browserName&&"Windows"==SPL.OSname&&7!=SPL.OSversion;return console.log("IE = "+l+" "+SPL.browserName+" "+SPL.OSname+" "+SPL.OSversion),!!(window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')&&l)}function p(l){if(Player=e.curPlayer,Player.name=l,m.playerName=l,console.log("poster tplayerName :: "+m.playerName),m.setPosterImage(),E++,S?(m.playerLoaded=!1,console.log("dev16 old player plugins was  laoded so just init the player")):(console.log("dev11 onPlayerLoad called with ::"+l),e.setActiveElement(e.curPlayer),g(l),S=!0),console.log("dev16 onPlayerLoad before init with :: "+l),"yt"==l?e.curPlayer.init(m.source.url):e.curPlayer.init(),SPL.SPlayerEvents.call(m,e,o,n),SPL.isMobile){var a=e.containerIDClient;SPL.CID[a].sameContainer?v():P()}}function g(o){var n=e.playerObjConfig,l=(e.curPlayer.isLive()?"LIVE":"VOD")+(l=SPL.isMobile?"MOBILE":"WEB")+"OTHER";switch(console.log("deviceType was  :: "+l),l){case"LIVEMOBILE":e.eventManagerObj.on("splayer",e.Player.onPlayerEvent_LIVEMOBILE);break;case"VODMOBILE":e.eventManagerObj.on("splayer",e.Player.onPlayerEvent_VODMOBILE);break;case"LIVEWEB":e.eventManagerObj.on("splayer",e.Player.onPlayerEvent_LIVEWEB);break;case"VODWEB":console.log("Player is :: ",e.Player),e.eventManagerObj.on("splayer",e.Player.onPlayerEvent_VODWEB);break;default:console.log("default was :: Selectected Normal"),e.eventManagerObj.on("splayer",e.Player.onPlayerEvent)}if(console.log("conf31 = ",n),e.controlsBaseObj.init(e.videoElem,n,L,e.curPlayer,o,e),e.controlsBaseObj.createAllControls(e.containerID,e.currentCounter,e.videoElem),e.eventManagerObj.on("controls",e.controlsBaseObj.onPlayerEvent),console.log("conf.playerVars.isAdAllowed :: "+n.playerVars.isAdAllowed),ISADBLOCKER){console.log("AD BLOCKED");var a={state:"AD_BLOCKED"};e.eventManagerObj.dispatchEvent("_adstate","",a)}!ISADBLOCKER&&SPL.isAdAllowed&&n.playerVars.isAdAllowed?(console.log("adDebug:: if"),console.log("containerID 1:: ",e.containerID),e.adManagerObj=new SPL.plugins.adManager(L,n,e.curPlayer,e.containerID,e),e.eventManagerObj.on("adManager",e.adManagerObj.onPlayerEvent)):console.log("adDebug:: else"+SPL.isAdAllowed+n.playerVars.isAdAllowed+ISADBLOCKER);var r=n.playerVars.isAnalyticsPlugin;10==n.playerVars.playerid&&(r=!1),"flash"!=m.playerName&&0!=r&&(e.analyticsObj=new SPL.plugins.analytics(L,n,e.curPlayer,e),e.eventManagerObj.on("analytics",e.analyticsObj.onPlayerEvent)),n.playerVars.isComScorePlugin&&e.comscoreObj&&(e.comscoreObj=new SPL.plugins.comscore,e.eventManagerObj.on("comscore",e.comscoreObj.onPlayerEvent));n.playerVars.isGAPlugin;"undefined"!=typeof ga&&void 0===e.GAObj&&(e.GAObj=new SPL.plugins.GA(n),e.eventManagerObj.on("GA",e.GAObj.onPlayerEvent)),f=m.loader}function P(){if("yt"==m.playerName||"dm"==m.playerName);else{f.hide();var o=UTIL.createOtherNode("i","","spl_Fc spl_ico spl_BP spl_O1 spl_uS",e.containerIDClient);o.setAttribute("style","z-index:4"),console.log("SPL.UA.getBrowser() = "+SPL.UA.getBrowser().name),"Android Browser"==SPL.UA.getBrowser().name&&_elsa(e.containerID,"style","background:#000"),"Android Browser"!=SPL.UA.getBrowser().name&&SPL.showPoster(e.playerObjConfig,e.containerIDClient),SPL.isAdAllowed&&m.hasAd(0)?(console.log("SPL.isAdAllowed 1 "+getCurTime()),loadJs(SPL.conf.imaSDKUrl,function(){console.log("SPL.isAdAllowed 2 "+getCurTime()),o.addEventListener("click",function(){o.parentNode.removeChild(o),e.adManagerObj.bootstrap();var n=e.adManagerObj;null!=n.adDisplayContainer&&void 0!=n.adDisplayContainer?(console.log("onUserAction player"),n.onUserAction()):checkAsync()})})):(console.log("SPL.isAdAllowed nope 1"),o.addEventListener("click",function(){console.log("SPL.isAdAllowed nope 2"),console.log("mobile bpicn"),o.parentNode.removeChild(o),v()}))}}function v(){e.videoElem.play();e.curPlayer.load(m.source.url),m.playerLoaded=!0,e.curPlayer.play()}var m=this;m.CANDISPATCHEVENT=!1,this.eventDispatchedList=[],this.singleEventList=["init","ready","initload","manifest","complete","ended"];m.retryAfterAd=!1,m.handleError=e.handleErrorObj;var f;m.playerLoaded=!1;var E=0,S=!1,L=o,O=L,h=n;m.config=e.playerObjConfig,m.audioOnly=!1,m.conf=O,m.videoElem=n,SPL.SPlayerSettings.apply(this,arguments),m.playerName="DEFAULT",m.name="SPLAYER";var w=this;O.plugins=O.plugins||[],O.elements={embed:"flash",video:"html5"},m.flash=!1,m.source={},m.settings={bitrate:null,level:0,mute:!1,ts:new Date},w.isDispatchedAgain=function(e){return!w.isOneTimeEvent()||(-1==w.eventDispatchedList.indexOf(e)?(console.log("dev16 check for :: "+e+" TRUE "+w.eventDispatchedList.indexOf(e),w.eventDispatchedList),!0):(console.log("dev16 check for :: "+e+" FALSE "+w.eventDispatchedList.indexOf(e),w.eventDispatchedList),!1))},w.isOneTimeEvent=function(e){return-1!=w.singleEventList.indexOf(e)},w.init=function(){SPL.findBrowserConf.call(this,o,SPL.SPLconfig),m.updateRetryCount()},w.reinitPlayer=function(o){console.log("calling reload"),e.curPlayer.isLive()?(e.curPlayer=null,c()):"dash"==m.playerName?(e.curPlayer.load(m.source.url,o),m.playerLoaded=!0,e.curPlayer.play()):"mp4"==m.playerName&&(e.curPlayer.load(m.source.url),m.playerLoaded=!0,e.curPlayer.seek(o),e.curPlayer.play())},this.loadDash=function(){h=O.elements.video,SPL.playerDash?a():loadJs(window.JSBASE+"splayer/players/playerdash.js",a)},this.loadDM=function(){h=O.elements.embed,SPL.playerDM?r():loadJs(window.JSBASE+"splayer/players/playerdm.js",r)},this.loadYT=function(){console.log("load YT"),SPL.playerYT?t():loadJs(window.JSBASE+"splayer/players/playeryt.js",t)},this.loadEmbedPlayer=function(){SPL.embedPlayer?l():loadJs(window.JSBASE+"splayer/players/embedplayer.js",l)},this.loadHls=function(e){if(console.log("log slikePlayers::loadhls"),u())console.log("check if HLS JS was supported"),h=O.elements.video,SPL.playerHls?c():loadJs(window.JSBASE+"splayer/players/playerhls.js",c);else if(SPL.hasFlash&&!0!==e){h=O.elements.embed,m.flash=!0;console.log("play Flash now"),s()}else this.loadmp4()},this.loadMp4=function(){console.log("log 5 ..loadMp4"),h=O.elements.video,SPL.playerNative?d():loadJs(window.JSBASE+"splayer/players/playernative.js",d)},this.loadMp3=function(){console.log("poster dev12 ..initMp3 "),h=O.elements.video,SPL.playerNative?y():loadJs(window.JSBASE+"splayer/players/playernative.js",y)},m.prepare=function(){console.log("dev05 t.prepare"),m.hidePosterImage(),console.log("t.source.url = "+m.source.url),this.load(m.source.url)};var b=[],A=[];m.onPlayerEvent=function(o,n){"_adstate"!=o&&-1!=b.indexOf(o)||("_adstate"==o?b.push(o+"::"+n.state):b.push(o),console.log("================  PLAYER EVENT occur [LOCAL] ========= with state ",b)),"SEEKING"===n||"BUFFERING"===n?(console.log("dev22 5"),!SPL.checkIsOnline()&&m.source.type&&"dm"!==m.source.type.toLowerCase()&&m.offlineHandling()):(null!=n&&void 0!=n&&"networkError"==n.type&&console.log("----------NETWORK ERROR-----------"),!SPL.checkIsOnline()&&n&&void 0!==n.buffer&&(n.buffer<.5||"mp4"==m.playerName&&n.buffer<4)?(console.log("!t.checkIsOnline() 1"),parseInt(n.position+n.buffer)>=parseInt(n.duration)?console.log("::::Video is about to complete::::"):(console.trace("splayer error network data = ",n),"dash"!=m.playerName&&"mp4"!=m.playerName||!m.reinitConf?!e.curPlayer.errorScreen&&m.handleError.handleErrorIfAny(MESSAGE.networkError,!0,!0,m.play):!e.curPlayer.errorScreen&&m.handleError.handleErrorIfAny(MESSAGE.networkError,!0,!0,m.reinitConf))):console.log("buffer still remaining ")),m.OnEvent[o]&&m.OnEvent[o].apply(this,[n])},m.onPlayerEvent_LIVEMOBILE=function(e,o){-1==A.indexOf(e)?m.OnEvent[e].apply(this,[o]):m.OnEvent_LIVEMOBILE[e].apply(this,[o])},m.onPlayerEvent_VODMOBILE=function(e,o){-1==A.indexOf(e)?m.OnEvent[e].apply(this,[o]):m.OnEvent_VODMOBILE[e].apply(this,[o])},m.onPlayerEvent_LIVEWEB=function(e,o){-1==A.indexOf(e)?m.OnEvent[e].apply(this,[o]):m.OnEvent_LIVEWEB[e].apply(this,[o])},m.onPlayerEvent_VODWEB=function(e,o){console.log("log here123",e,m,this),-1==A.indexOf(e)?(console.log("log here",e,m,this),m.OnEvent[e]&&m.OnEvent[e].apply(this,[o])):m.OnEvent_VODWEB[e]&&m.OnEvent_VODWEB[e].apply(this,[o])};this.setPosterImage=function(){var o=e.playerObjConfig.playerVars,l=e.containerIDClient;if(console.log("dev24 outer::",l),o.image)console.log("Poster Image was availaible::"+o.image),document.getElementById(l).style.backgroundImage="url("+o.image+")",document.getElementById(l).style.backgroundSize="contain",document.getElementById(l).style.backgroundPosition="center",document.getElementById(l).style.backgroundRepeat="no-repeat";else{if("mp3"==m.playerName){a=window.JSBASE+"image/wave.png";console.log("poster Image was not availaible so show ::"+a),document.getElementById(l).style.backgroundImage="url("+a+")",document.getElementById(l).style.backgroundSize="contain",document.getElementById(l).style.backgroundPosition="center",document.getElementById(l).style.backgroundRepeat="no-repeat"}console.log("Poster Image was not availaible but t.playerName :: "+m.playerName)}if("mp3"==m.playerName||1==m.audioOnly){console.log("poster 1 ");var a=window.JSBASE+"image/wave.png";o.image&&(a=o.image),function(e){console.log("poster:: "+e);var o=n;console.log("poster:: "+o),o.poster=e}(a)}else console.log("poster 2 Playername"+m.playerName+" ,",m)},this.hidePosterImage=function(){if("mp3"!=m.playerName){var o=e.containerIDClient;setTimeout(function(){document.getElementById(o).style.backgroundImage="none"},200)}},this.reset=function(){m.playerLoaded=!1,this.eventDispatchedList=[]},this.destroy=function(o){function n(){e.adManagerObj=null,e.analyticsObj.destroy(l)}function l(){e.analyticsObj=null,e.eventManagerObj.unsubscribe("splayer"),o()}console.log("destroy called on splayer"),e.curPlayer.destroy(function(){e.curPlayer=null,e.adManagerObj&&SPL.isAdAllowed?(console.log("destroy if admanager"),e.adManagerObj&&e.adManagerObj.destroy(n)):n()})},this.hibernate=function(o){console.log("sPlayer hibernate"),"function"==typeof e.curPlayer.hibernate&&e.curPlayer.hibernate(function(e){if("function"==typeof o){var e=e||"SUCCESS";console.log("callback to baseController with status :: "+e),o(e)}})},m.play=function(){console.log("play the Active Player");var o=e.getActiveElement();o.isLive()?m.playLivePlayer():o.play()},m.pause=function(){console.log("pause the Active Player"),e.getActiveElement().pause()},m.stop=function(){"flash"!=m.playerName&&(console.log("stop the Active Player"),e.getActiveElement().stop())},m.setVolume=function(o){console.log("setVolume"),e.getActiveElement().volume(o)},m.seek=function(o){if(e.curPlayer.isLive())console.log("Live Player No Seek");else{console.log("seek");var n=e.curPlayer.position;console.log("curPosition :: "+n);var l=e.getActiveElement();l.seek&&l.seek(n+o)}},m.isPaused=function(){var o=e.getActiveElement();return console.log("curPlayer.isPaused :: "+o.isPaused),o.isPaused},m.getVolume=function(o){return console.log("getVolume"),e.curPlayer._.volume},m.mute=function(){console.log("mute Splayer"),e.getActiveElement().mute(),SPL.setLocalSettings({mute:!0})},m.unmute=function(){console.log("unmute"),e.getActiveElement().unmute(),SPL.setLocalSettings({mute:!1})},m.load=function(o){e.curPlayer.load(o)}};