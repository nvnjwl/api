SPL.SPlayerEvents=function(e,o,n){function l(){return"undefined"!=typeof controller&&controller.plng}function t(){try{n&&n.webkitExitFullscreen()}catch(e){console.log("exitFS error")}document.webkitExitFullscreen&&document.webkitExitFullscreen(),document.exitFullscreen&&document.exitFullscreen(),document.mozFullScreen&&document.mozCancelFullScreen()}var r=this,a=!1;r.playerIndex=0;var s=e.curPlayer,i=e.playerObjConfig.playerVars;retryAfterAd=r.retryAfterAd;var d=!1,c=r.loader;r.OnEvent={init:function(){if(SPL.isAdAllowed&&r.hasAd(0)){var o=e.containerIDClient;SPL.isMobile&&!SPL.CID[o].sameContainer||e.adManagerObj.bootstrap()}},position:function(o){if(isNaN(s.duration)?(console.log("showing loader ",s),c.show(),e.curPlayer.errorScreen&&e.handleErrorObj.showVideo()):preservedS=s.position,a&&l()){var n=r.outer;a=!1,_elsa("videoview","class",""),_elsa(elem,"class","FS O1"),_elsa(n,"style","")}},volume:function(e){console.log("volume playerevents = "+e)},ready:function(){var e=this;"yt"==r.playerName&&c.hide(),r.hasAd(0)?(SPL.isMobile,console.log("AD")):r.playerLoaded||SPL.isMobile?!SPL.isMobile||"yt"!=r.playerName&&"dm"!=r.playerName||(e.load(r.source.url),r.playerLoaded=!0):(console.log("!playerLoaded"),e.load(r.source.url),r.playerLoaded=!0)},levelReady:function(){"dm"==r.playerName&&c.hide()},start:function(){r.eventPatch()},state:function(o){console.log("state here"),"PLAYING"==o&&e.curPlayer.errorScreen&&e.handleErrorObj.showVideo()},fs:function(e){var o=s.getData();void 0!==e&&1==e||"PAUSED"!=o.state||void 0===o.position||(s.seek(o.position),setTimeout(function(){s.pause()},150))},error:function(o,n){console.trace("dev11 :: Error here, event :: ",o+" network="+SPL.checkIsOnline()),(void 0!=o&&null!=o||void 0!=n&&null!=n)&&console.log("dev11 :: Error here, event :: "+o.type+",data :: ",n+" network="+SPL.checkIsOnline()),SPL.checkIsOnline()?s.isLive()?s.isLive()&&"networkError"==o.type&&console.log("HLS networkError"):r.retryAfterError():(console.log("!SPL.checkIsOnline() && evt==error"),!e.curPlayer.errorScreen&&r.handleError.handleErrorIfAny(MESSAGE.networkError,!0,!0,function(){r.playerLoaded?s.isLive()?r.playLivePlayer():"dash"==r.playerName||"mp4"==r.playerName?r.reinitConf():e.getActiveElement().play():(console.log("!playerLoaded"),s.load(r.source.url),r.playerLoaded=!0)}))},manifest:function(){e.receivedEvents.manifest=!0,r.hidePosterImage(),console.log("dev17 event manifest paused :: "+s.isPaused),console.log("dev17p 1 playerIndex :: 0");var o=e.playerObjConfig.playerVars.autoStart;console.log("dev03 isAutoStart = "+o),r.hasAd(0)||SPL.isMobile?SPL.isMobile||console.log("List EVENTS else 3"):s.play(),console.log("dev17 event manifest paused :: "+s.isPaused)},complete:function(){e.receivedEvents.complete=!0,console.log("complete Player.embedControl = "+Player.embedControl),void 0!==i.nextVideoUrl&&""!=i.nextVideoUrl&&console.log("player Complete occur"),r.hasAd(-1)?console.log("ADM Do nothing Ad will try to play"):(console.log("ADM No postRol"),s._.dispatch("ended"))},flashfailed:function(){console.log("flash Failed so do loadHLS"),r.loadHls(!0)},ended:function(){if(console.log("Player.embedControl = "+Player.embedControl),void 0===Player.embedControl||!1===Player.embedControl){console.log("dev01 replay end2"),r.setPosterImage();var o=e.playerObjConfig.playerVars.nextVideoID;void 0!==o&&""!=o?(console.log("if nextVideoUrl ::"+o),!0):(console.log("else nextVideoUrl ::"+o),!1);var n=i.isEndScreenPlugin;n?console.log("isEndScreenPlugin if:: "+n):(console.log("isEndScreenPlugin else:: "+n),e.controlsBaseObj.showEndScreen(r)),console.log("dev04 replay end3")}else console.log("Player.embedControl was :: "+Player.embedControl);var l=i.isFullscreenUI;void 0==l||0==l?(console.log("Exit FS isFullscreenUI  :: "+l),t()):1==l&&console.log("Do not Exit FullScreen , isFullscreenUI  else :: "+l),(SPL.UA.isMac()||"Safari"==SPL.UA.getBrowser().name||"iOS"==SPL.UA.getOS().name||"Mobile Safari"==SPL.UA.getBrowser().name)&&t()},_adstate:function(o){function n(){d=!0,console.log("dev11 ad 2"),r.retryAfterAd?r.retryNextUrl():(console.log("dev11 ad 3 "+r.source.url,s),r.playerLoaded=!0,s.load(r.source.url),setTimeout(function(){s.play()},10))}if(console.log("AdState :: "+o.state),"ended"!==o.state||r.playerLoaded){if("ended"===o.state)switch(console.log("e.adtype :: "+o.adtype),o.adtype){case"pre":d=!0,r.retryAfterAd?r.retryNextUrl():(console.log("playerLoaded = "+playerLoaded),r.playerLoaded?SPL.isMobile&&(console.log("player loading after ad"),s.load(r.source.url),r.playerLoaded=!0):(s.load(r.source.url),r.playerLoaded=!0),console.log("ADM e.adtype"+o.adtype),console.log("dev01 ended ad e.state:"+o.state+" e.adtype:"+o.adtype+" retryAfterAd:"+retryAfterAd),console.log("list events play now"),e.setActiveElement(e.curPlayer),s.play());break;case"mid":d=!0,r.retryAfterAd?r.retryNextUrl():(console.log("ADM e.adtype"+o.adtype),console.log("dev01 ended ad e.state:"+o.state+" e.adtype:"+o.adtype+" retryAfterAd:"+retryAfterAd),console.log("list events play now"),s.play());break;case"post":console.log("ADM e.adtype"+o.adtype)}}else SPL.checkIsOnline()?n():(e.receivedEvents.manifest?console.log("manifest received"):console.log("manifest not received"),r.handleError.handleErrorIfAny(MESSAGE.networkError,!0,!0,n));"ended"===o.state&&SPL.isMobile&&(console.log("dev11 ad 4"),s.isLive()&&s.seekToLive())}},r.OnEvent.switch=function(e){console.log("t.OnEvent['switch']")},r.OnEvent_LIVEMOBILE={init:function(){},position:function(e){}},r.OnEvent_LIVEMOBILE.switch=function(e){console.log("t.OnEvent_LIVEMOBILE['switch']")},r.OnEvent_VODMOBILE={init:function(){},position:function(e){}},r.OnEvent_VODMOBILE.switch=function(e){console.log("t.OnEvent_VODMOBILE['switch']")},r.OnEvent_LIVEWEB={init:function(){},position:function(e){}},r.OnEvent_LIVEWEB.switch=function(e){console.log("t.OnEvent_LIVEWEB['switch']")},r.OnEvent_VODWEB={init:function(){},position:function(e){}},r.OnEvent_VODWEB.switch=function(e){console.log("t.OnEvent_LIVEMOBILE['switch']")},r.hasAd=function(e){return console.log("dev06 playerVars.isAdAllowed ::"+r.config.playerVars.isAdAllowed),SPL.conf.AdIsEnabled&&SPL.isAdAllowed&&r.config.playerVars.isAdAllowed&&json.ads.timecode&&-1!==json.ads.timecode.indexOf(e)&&window.adsPlayed&&-1===window.adsPlayed.indexOf(e)}};