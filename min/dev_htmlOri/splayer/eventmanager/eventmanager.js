SPL.eventmanager={},SPL.eventmanager.EventManager=function(e){function n(e,n){var t=e.length;console.log("destroy length is :: "+t);for(var i=0;i<t;i++){t=e.length,console.log("destroy ith is :: "+i);try{e[i].subscriberName===n&&e.splice(i,1)}catch(e){console.log("")}}}console.log("EventManager created");var t=this;t.subscribers=[];var i=0;t.singleEventList=["init","ready","initload","manifest","complete","ended"],t.eventCounter=[0,0,0,0,0,0],t.singleEventPlugin=["controller","adManager","analytics","comscore","GA"],t.name="EventManagerSELF_"+e.currentCounter,this.on=function(e,n,t){this.subscribe(e,n,t)},this.subscribe=function(e,n,i){console.log("Event Subscriber here with subscriberName :: "+e+"  eventType :: "+i);var a={subscriberName:e,callbackFunction:n,eventType:i};t.subscribers.push(a)},t.unsubscribe=function(e){console.log("destroy Event unsubscribe:"+e),console.log("destroy self.subscribers ::",t.subscribers),n(t.subscribers,e)},t.dispatchEvent=function(n,a,l,o){var s=t.subscribers,r=s.length,c=n;eventType=a,eventData=l;var u=t.singleEventList.indexOf(c);-1!=u&&0==t.eventCounter[u]&&t.eventCounter[u]++;for(var v=0;v<r;v++){var d=s[v].subscriberName,g=s[v].eventType,y=s[v].callbackFunction;if(2==t.eventCounter[u]&&-1!=t.singleEventPlugin.indexOf(d))return;setTimeout(function(n,t,i,a,l,o,s){"function"==typeof o&&o.call(e.curPlayer,n,i,t,s)},0,c,eventType,eventData,d,g,y,o)}setTimeout(function(){t.dispatchToGlobalEVM(n,a,l,o)},0,n,a,l,o),"ready"==n&&(console.log("name was :: ready hide event Listener Attached"),SPL.isMobile||t.hideQualityClick()),"ended"==n&&t.RMhideQualityClick(),1==e.needLoader&&"position"==n&&(i++,console.log("needloader true"),i>=3&&(console.log("needloader false"),e.needLoader=!1,e.loader.hide(),i=0))},t.dispatchToGlobalEVM=function(n,t,i){SPL.global.EventManager.onPlayerEvent(n,t,i,e)},t.events={ready:function(){t.dispatchEvent("ready","VERBOSE")},manifest:function(e,n){t.dispatchEvent("manifest","VERBOSE")}};var a={"Events.MANIFEST_PARSED":{name:"PLAY",type:"VERBOSE",data:"PlayBack 456"}};t.receiveEvent=function(n,i,a,l,o){if(console.log("levm DO receiveEvent triggered with name ::"+n+",type::"+i+"command is ::"+l),"PAUSE"==l)if("adManager"==(r=e.getActiveElement()).pluginName){console.log("tab currentActiveElement = adManager with index ::"+e.playerIndex);var s=r.isPlaying();s?(console.log("adplaypauseBC2 dev14 Do AdPlayer  paused send because isAdPlaying was ::"+s+",on "+t.name),r.pause()):r.pause()}else r.pause();else if("MUTE"==l)console.log("levm command is :: "+l+" for playerIndex "+e.playerIndex),(r=e.getActiveElement()).mute();else if("VOLUME"==l)console.log("levm command is :: "+l,a+" for playerIndex "+e.playerIndex),(r=e.getActiveElement()).volume(a);else if("PLAY"==l){SPL.UA.isMac()&&(console.log("SPL.UA.isMac()"),e.loader.show(),e.needLoader=!0);var r=e.getActiveElement();"DOCUMENT_RESUME"==o&&e.curPlayer.isLive()&&e.curPlayer.seekToLive(),r.play()}},t.eventMapping=function(e,n){console.log("eventMapping called with playerName::"+e+" ,and eventName ::"+n),SplayerEventName=a[n].name,SplayerEventType=a[n].type,SplayerEventData=a[n].data,t.dispatchEvent(SplayerEventName,SplayerEventType,SplayerEventData)},t.QSclickEvent=function(n){var t=e.controlsBaseObj;if(null!=t&&n.target!=t.settingsMenuOuter&&n.target!=t.qualitySettings&&n.target!=t.settingsIconClick&&null!=t.settingsMenuOuter&&void 0!=t.settingsMenuOuter)if(0!=n.clientX&&0!=n.clientY){var i=t.settingsMenuOuter,a=_elr(i).left,l=_elr(i).right,o=_elr(i).top,s=_elr(i).bottom,r=n.clientX,c=n.clientY;!(r>a&&r<l&&c>o&&c<s)&&t.isQualityOpen&&setTimeout(function(){t&&t.hideQualityMenu&&t.hideQualityMenu()},0)}else console.log("System click")},t.hideQualityClick=function(){console.log("added Event Listener on document"),document.addEventListener("click",t.QSclickEvent,!0)},t.RMhideQualityClick=function(){console.log("remove Event Listener on document"),document.removeEventListener("click",t.QSclickEvent)},this.destroy=function(e){console.log("remove Event Listener"),t.RMhideQualityClick(),console.log("destroy called on Event Manager"),e()}};