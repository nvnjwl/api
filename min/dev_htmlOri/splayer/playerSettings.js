SPL.SPlayerSettings=function(e,r,o){function l(e){void 0==e&&(e="mp4");var r=!1;switch(e){case"hls":(c.dash>0||c.mp4>0)&&(r=!0);break;case"dash":c.mp4>0&&(r=!0);break;case"mp4":default:r=!1}return r}function t(e){function r(){console.log("dev12 ========= showError  ERROR ==============="),s.handleError.handleErrorIfAny(MESSAGE.VIDEO_NOT_PLAYING,!0,!1)}if(console.log("in retryNextPlayer1 before  dev21 t.sourceList :: ",s.sourceList),console.log("in retryNextPlayer before  dev21 t.source :: ",s.source),l(e))if(++playerIndex<s.sourceList.length){console.log("dev21 retryNextPlayer called if with playerIndex::"+playerIndex+" t.sourceList.length"+s.sourceList.length);var o=s.functionList[playerIndex];s.source=s.sourceList[playerIndex],console.log("dev12 ========================"),console.log("dev12 t.sourceList :: ",s.sourceList),console.log("dev12 t.functionList :: ",s.functionList),console.log("================= dev12"),console.log("dev16 t.source.url :: "+s.source.url),o()}else console.log("dev21 retryNextPlayer called else with playerIndex::"+playerIndex+" t.sourceList.length"+s.sourceList.length),r();else r()}console.log("settings ::");var a,n,s=this;retryAfterAd=s.retryAfterAd;var c={hls:1,dash:1,mp4:1};playerIndex=s.playerIndex;var d=2,i=2,u=2;s.reinitConf=function(){if(console.log("reinitconf called ",e.curPlayer.position),a=e.Player,(n=e.curPlayer).isLive())s.playLivePlayer();else{var r={preserveAdEvent:!0,preserveVideoEvent:!0,preservePosition:!0,preservePlayer:!0};s.reinit(r)}},s.reinit=function(r){console.log("reinit called");var o=0;r.preservePosition&&(console.log("dev31 SPLAYER :: ",a),console.log("dev31 CURPLAYER :: ",n),console.log("dev31 CURPLAYEROBJ :: ",e),o=n.position,console.log("dev31 POSITION :: "+o)),r.preserveVideoEvent||console.log("dev31 preserveVideoEvent :: "+r.preserveVideoEvent),r.preserveAdEvent||console.log("dev31 preserveAdEvent :: "+r.preserveAdEvent),(0==o||"dash"==s.playerName||"mp4"==s.playerName||n.isLive())&&r.preservePlayer?(console.log("dev31 loadSourceAgain"),s.loadSourceAgain(o)):(console.log("dev31 load"),e.getActiveElement().play())},s.loadSourceAgain=function(e){console.log("dev31 loadSourceAgain with :: "+s.source.url),n.destroy(function(){a.reset(),console.log("dev31 2 loadSourceAgain with :: "+s.source.url),s.reinitPlayer(e)})},s.hibernate=function(){console.log("hibernate called")},s.updateRetryCount=function(){function e(e){var r=0;for(prop in e)e.hasOwnProperty(prop)&&r++;return r}console.log("dev21 Updating Retry Count Now for updated data :: ",s.videoDataUpdate);var r=e(s.videoDataUpdate.hls);r/=2,console.log("dev21 :: hlsUrlCount :: "+r);var o=e(s.videoDataUpdate.dash);o/=2,console.log("dev21 :: dashUrlCount :: "+o);var l=e(s.videoDataUpdate.mp4);l/=2,console.log("dev21 :: mp4UrlCount :: "+l),c.hls=r,c.dash=o,c.mp4=l,console.log("dev21 afterupdateRetryCount:: ",c)},s.retryAfterError=function(){var r=e.activeElement.name;console.log("dev12 admanager currentSelectedPlayer",r),"adManager"==r?(console.log("dev12 admanager is Selected so retry after ad",e.activeElement),retryAfterAd=!0):(console.log("dev12 admanager is not Selected so retry now",e.activeElement),retryAfterAd=!0,s.hasAd()?retryAfterAd=!0:(console.log("dev31 set t=",s),console.log("dev31 set this=",this),s.retryNextUrl()))},s.retryNextUrl=function(){console.log("in retryNextUrl before  dev21 t.sourceList :: ",s.sourceList),console.log("in retryNextUrl before dev21 t.source :: ",s.source),console.log("dev11 retryNextUrl now After Ad with playerName :: "+s.playerName),console.log("dev21 retryCount[t.playerName] was :: "+c[s.playerName]+" for t.playerName:: "+s.playerName),clearInterval(null);var e=s.playerName;switch(console.log("dev21 :: retryNextUrl came for curPlayerName :: "+e),e){case"hls":console.log("dev21 curPlaybackHLS was :: "+d+"and retryCount[t.playerName] was ::"+c[s.playerName]),d<=c[s.playerName]?(retryAfterAd=!1,console.log("dev21 case hls before retryCount[t.playerName] :: "+c[s.playerName]),s.source.url=s.source.urlList[2*d-2],console.log("dev21 after url update t.source.url :: ",s.source.url+" for curPlaybackHLS::"+d),d++,s.loadHls(),console.log("dev21 case hls after retryCount[t.playerName] :: "+c[s.playerName])):(console.log("dev11 else retryCount[t.playerName] was ::"+c[s.playerName]+" Try next player now"),t(e));break;case"dash":i<=c[s.playerName]?(retryAfterAd=!1,console.log("dev21 case dash before retryCount[t.playerName] :: "+c[s.playerName]),s.source.url=s.source.urlList[2*i-2],console.log("dev21 after url update t.source.url :: ",s.source.url+"for curPlaybackDASH::"+d),i++,s.loadDash(),console.log("dev21 case hls after retryCount[t.playerName] :: "+c[s.playerName])):(console.log("dev11 else retryCount[t.playerName] was ::"+c[s.playerName]+" Try next player now"),t(e));break;case"mp4":u<=c[s.playerName]?(console.log("dev22 :: case MP4 if curPlaybackMP4 :: "+u+" retryCount[t.playerName] :: "+c[s.playerName]),retryAfterAd=!1,console.log("dev21 case mp4 before retryCount[t.playerName] :: "+c[s.playerName]),s.source.url=s.source.urlList[2*u-2],console.log("dev21 after url update t.source.url :: ",s.source.url+" for curPlaybackMP4::"+u),u++,s.loadMp4(),console.log("dev21 case mp4 after retryCount[t.playerName] :: "+c[s.playerName])):(console.log("dev22 :: case MP4 else curPlaybackMP4 :: "+u+" retryCount[t.playerName] :: "+c[s.playerName]),console.log("dev11 else retryCount[t.playerName] was ::"+c[s.playerName]+" Try next player now"),t(e));break;default:t(e)}},s.playLivePlayer=function(){var r=e.curPlayer;console.log("t.playLivePlayer 1"),r.play()};var v=null;s.offlineHandling=function(){null!=v&&(clearTimeout(v),v=null),SPL.checkIsOnline()?(console.log("into offlineHandling online..."),s.handleError.handleErrorIfAny(null,!0,!1),s.reinitConf()):(console.log("into offlineHandling but playing..."),console.log("player setting ",o,e),!e.curPlayer.errorScreen&&s.handleError.handleErrorIfAny(MESSAGE.NETWORK_ERROR,!0,!0,s.reinitConf))},s.eventTimeout=null,s.eventInterval=null,s.eventPatch=function(){function r(){console.log("eventPatch sendEvent called"),0==e.receivedEvents.complete&&o.dispatch("complete",!0),clearInterval(s.eventInterval),clearTimeout(s.eventTimeout)}var o=e.curPlayer;s.eventInterval=setInterval(function(){clearTimeout(s.eventTimeout),void 0!=o&&void 0!=o.videoElem&&o.videoElem.duration==o.videoElem.position?(console.log("eventPatch :: Time Same Wait for 500ms"),s.eventTimeout=setTimeout(r,500)):clearTimeout(s.eventTimeout)},1e3)}};