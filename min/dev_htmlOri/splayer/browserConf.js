SPL.findBrowserConf=function(jsonData,slikeConfig){function setPlayerJsonData(e,o,a){console.log("analyticsApi"+SPL.conf.skipAd),console.log("SUSHII slikeConfig:"+a+"slikeConfig.settings:"+a.settings);var s={_id:o._id,_kid:o._kid,name:o.name,image:o.image,duration:o.duration,isLive:o.isLive,audioOnly:o.audioOnly,interval:void 0!==o.embed&&""!=o.embed&&""!=typeof o.playertype&&"yt"==o.playertype?0:a.settings.interval||0,startLevel:void 0===a.settings.startlevel?1:a.settings.startlevel,startLevelFlash:void 0===a.settings.startlevelFlash?-1:a.settings.startlevelFlash,adsTimeout:a.settings.adstimeout||8e3,embed:o.embed||"",src:3,tb:a.settings.business||"",tpr:a.settings.product||""};for(var t in o)o.hasOwnProperty(t)&&(s[t]=o[t]);if(console.log("dev22 :: data3 before :: ",s),void 0!==o.embed){var n=o.embed.split("::")||[];n!==[]&&"yt"==n[0]?s.yt=n[1]:n!==[]&&"dm"==n[0]&&(s.dm=n[1]),s.ads={campaign:[],timecode:[]}}else if(void 0!==o.flavors&&objectsLength(o.flavors)>0){var l,i=o.flavors,d=null;for(l in i)"hls"===i[l].type||"dash"===i[l].type?s[i[l].type]={0:i[l].url,1:i[l].flavor}:"mp4"!==i[l].type&&"mp3"!==i[l].type||(d=null===d?i[l].bitrate:d)>=i[l].bitrate&&(d=i[l].bitrate,s[i[l].type]={0:i[l].url,1:i[l].flavor});var r=preparePlayerAds(a);s.ads=r.ads}onJsonData(e,s)}function createHardCodeData(e){t.videoDataUpdate=e,console.log("dev21 3 videoDataUpdate:: ",t.videoDataUpdate)}function preparePlayerAds(slikeConfig){var adsdata=eval("slikeConfig.ads"),data=[];if(data.ads={campaign:[],timecode:[]},!0===S.skipAd||void 0===adsdata||0==objectsLength(adsdata))return data;console.log("S.section = "+S.skipAd);var spl=S.section.split("."),d="",ads=null;for(var i in spl)d+="['"+spl[i]+"']";try{ads=eval("slikeConfig.ads"+d),void 0===ads&&(ads=eval("slikeConfig.ads.default"))}catch(e){ads=eval("slikeConfig.ads.default")}var j=0;console.log("Adlen ads",ads);for(i in ads){data.ads.campaign[j]=[];var Adlen=ads[i].length;console.log("Adlen i",ads[i]),console.log("Adlen :: "+Adlen);for(var k=0;k<Adlen;k+=2)data.ads.campaign[j].push({id:ads[i][k],url:ads[i][k+1]});"pre"==i?data.ads.timecode.push(0):"mid"===i?data.ads.timecode.push(1500):"post"===i&&data.ads.timecode.push(-1),++j}return console.log(":::ADS DATA:::",JSON.stringify(data.ads)),data}function onJsonData(e,o){console.log(" isMobile was :: "+SPL.isMobile);var a=void 0!==o.dm||void 0!==o.yt;if(!a&&"IE"==SPL.browserName&&"Windows"==SPL.OSname&&"7"==SPL.OSversion&&t.loadEmbedPlayer(),document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullScreenEnabled||SPL.isMobile||a){console.log("Inside else load other Player"),json=o,console.log("SUSHII json:",o),"undefined"===json.isLive&&(json.isLive=0),1===json.isLive?_hideTimeline():_showTimeline(),json.startLevel=1,json.startLevelFlash=-1;var s;if(void 0!==o.dm||void 0!==o.yt)console.log("Player is Dm or Youtube"),s=[],void 0!==o.dm?(s.push(["dm",e.loadDM]),t.source={type:"dm",url:o.dm,flavours:null},fn=s[0][1]):void 0!==o.yt&&(_le("yt",o),s.push(["yt",e.loadYT]),t.source={type:"yt",url:o.yt,flavours:null},fn=s[0][1]);else{console.log("Player is Not Dm or Youtube"),s=supportedTech(e),console.log("log slikePlayer supportedTech Result ::"+JSON.stringify(s),s),patchNativeHls(),t.sourceList=[],t.functionList=[];for(var n=0;n<s.length;n++)console.log("dev22 :: find::"+json[s[n][0]]+"Type::"+s[n][0]),json[s[n][0]]?(console.log("Matched JSON for "+s[n][0]),t.source={type:s[n][0],url:json[s[n][0]][0],urlList:json[s[n][0]],flavours:json[s[n][0]][1]},fn=s[n][1],t.sourceList.push(t.source),t.functionList.push(fn)):console.log("not Matched JSON for :: "+s[n][0]);t.source=t.sourceList[0],fn=t.functionList[0],console.log("dev21 ::  t.sourceList ",t.sourceList),console.log("dev21 ::  t.source ",t.source)}if(void 0!=o.ads){console.log("jsondata123 = ",jsonData," data = ",o);for(var l in o)jsonData[l]=o[l];console.log("jsondata123 = ",jsonData)}console.log("PLAY ADS  data =",JSON.stringify(o.ads)),console.log("PLAY ADS json data =",JSON.stringify(jsonData)),fn&&fn(),!fn&&onUnSupported()}else console.log("Inside IF load Embed Player :: "+SPL.isMobile),t.loadEmbedPlayer()}function patchNativeHls(){var e=document.createElement("video").canPlayType("application/vnd.apple.mpegURL");e&&json.hls&&!json.mp4&&(json.mp4=json.hls),e&&json.hls&&(SPL.isMac&&"Safari"==SPL.browserName||"iOS"==SPL.OSname)&&(json.mp4=json.hls,delete json.hls)}function onUnSupported(){"Safari"==SPL.browserName&&hide(t.videoElem),t.handleError.handleErrorIfAny(MESSAGE.NOT_SUPPORTED,!0,!1)}function supportedTech(e){console.log("log slikePlayer check for Browser capability log supportedTech function"),console.log("logg slikePlayer "+arguments.caller+" called me!");var o,a=[],s=document.createElement("video"),t=document.createElement("audio"),n="function"==typeof t.canPlayType&&""!==t.canPlayType("audio/mpeg;codecs=mp3");s.canPlayType&&(""!==s.canPlayType('video/mp4; codecs="mp4v.20.8"'),o=""!==(s.canPlayType('video/mp4; codecs="avc1.42E01E"')||s.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),""!==s.canPlayType('video/ogg; codecs="theora"'),s.canPlayType('video/webm; codecs="vp8, vorbis"'));var l=function(){var e=!!window.Promise,o=!!window.Uint8Array,a=!!Array.prototype.forEach,s=!!window.MediaSource,t=!!window.MediaKeys,n=!!window.navigator,l=!!window.MediaKeySystemAccess;try{i=!!window.MediaKeySystemAccess.prototype.getConfiguration}catch(e){console.log("error ",t);var i=!1}return e&&o&&a&&s&&t&&n&&!0&&l&&i}();return(SPL.hasFlash||isHlsJsSupported())&&a.push(["hls",e.loadHls]),l&&a.push(["dash",e.loadDash]),o&&a.push(["mp4",e.loadMp4]),n&&a.push(["mp3",e.loadMp3]),a}var t=this,S=SPL.conf,data={};t.videoDataUpdate={},console.log("analyticsApi"+SPL.conf.skipAd,jsonData),setPlayerJsonData(this,jsonData,slikeConfig)};